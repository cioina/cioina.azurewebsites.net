import{J as h,g as n}from"./chunk-CE3YZLPG.js";import{ha as a,ma as d,za as c}from"./chunk-IIY443J5.js";var g=(()=>{class i{#e=d(h);doc=d(c);getKeyValue=t=>o=>o[t];currentStyleThemeModel=this.#e.selectors.styleThemeMode;removeUnusedTheme(t){let o=this.doc.getElementById(t);o&&(this.doc.documentElement.classList.remove(t),this.doc.head.removeChild(o))}loadCss(t,o){return new Promise((r,l)=>{let s=this.doc.createElement("link");s.rel="stylesheet",s.href=t,s.id=o,s.onload=r,s.onerror=l,this.doc.head.append(s)})}loadTheme(t=!0){let o=n.production?this.getKeyValue(this.currentStyleThemeModel())(n.themes):`${this.currentStyleThemeModel()}.css`;if(t){if(n.production){let r=this.doc.querySelectorAll('link[rel="stylesheet"]');for(let l=0;l<r.length;l++)!r[l].id&&r[l].href&&r[l].remove()}this.doc.documentElement.classList.add(this.currentStyleThemeModel())}return new Promise((r,l)=>{this.loadCss(o,this.currentStyleThemeModel()).then(s=>{if(!t)this.doc.documentElement.classList.add(this.currentStyleThemeModel());else{let e=this.doc.getElementById("globalLoader");e&&(e.classList.contains("global-loader-fade-in")||e.classList.contains("global-loader-hidden")||e.addEventListener("transitionend",()=>{e.className="global-loader-hidden"}),e.classList.contains("global-loader-hidden")||(e.className+=" global-loader-fade-in"))}["default","compact","dark"].filter(e=>e!==this.currentStyleThemeModel()).forEach(e=>{setTimeout(()=>{this.removeUnusedTheme(e)},1)}),r(s)},s=>l(s))})}toggleTheme(){return this.loadTheme(!1)}static \u0275fac=function(o){return new(o||i)};static \u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();export{g as a};
