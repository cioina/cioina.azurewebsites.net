import{A as Y,F as re,J as ge}from"./chunk-4PO7O4NZ.js";import"./chunk-2FDDJB45.js";import{a as ze}from"./chunk-VGXJ6UFB.js";import{a as Ce}from"./chunk-JCTCT3GX.js";import{f as se,g as pe,h as ce,i as de,j as _e,k as ue,l as fe}from"./chunk-QFYNYEV4.js";import{B as G,K as j,M as K,O as Q,P as Z,Q as ee,R as te,S as ne,T as ie,U as le,V as me,l as P,m as L,o as I,p as A,r as D,s as E,u as k,w as O,x as q}from"./chunk-WJOQJ6KR.js";import{Cb as M,E as V,Eb as F,Ib as U,Jb as H,Kb as B,Rb as X,Sb as $,Tb as J,Vb as W,ac as oe,bc as ae}from"./chunk-MKBE3CDJ.js";import{Dc as C,Ec as a,Fa as x,Ga as h,Gb as b,Gc as g,Mb as s,Va as N,Vb as l,_c as z,ac as p,fc as o,gc as i,hc as _,ic as u,jc as f,lc as T,qc as w,sa as y,sc as m,ub as r}from"./chunk-DST2LAMD.js";function ye(e,n){e&1&&(o(0,"div",10)(1,"div",11)(2,"h3",12),a(3,"Already Authenticated"),i()()())}function Se(e,n){e&1&&(u(0),o(1,"h3",30),a(2,"Register an account"),i(),f())}function Re(e,n){e&1&&(u(0),o(1,"h5",31),_(2,"nz-icon",32),i(),f())}function Ne(e,n){e&1&&(u(0),o(1,"h5",31),a(2,"Already have an account?"),i(),f())}function be(e,n){if(e&1){let t=T();u(0),o(1,"a",33),w("click",function(){x(t);let c=m(2);return h(c.clickLink())}),a(2,"Sign In"),_(3,"span",34),i(),f()}}function Ve(e,n){e&1&&a(0," Please input your username. ")}function Me(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The username must be at least ",t.MinUserNameLength," characters long. ")}}function Fe(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The username must be at most ",t.MaxUserNameLength," characters long. ")}}function Pe(e,n){if(e&1&&s(0,Ve,1,0)(1,Me,1,1)(2,Fe,1,1),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Le(e,n){e&1&&a(0," The input is not a valid email. ")}function Ie(e,n){e&1&&a(0," Please input your email. ")}function Ae(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The email must be at least ",t.MinEmailLength," characters long. ")}}function De(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The email must be at most ",t.MaxEmailLength," characters long. ")}}function ke(e,n){if(e&1&&s(0,Le,1,0)(1,Ie,1,0)(2,Ae,1,1)(3,De,1,1),e&2){let t=n.$implicit;p(t.hasError("email")?0:-1),r(),p(t.hasError("required")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function Oe(e,n){if(e&1){let t=T();o(0,"span",35),w("click",function(){x(t);let c=m(2);return h(c.passwordVisible=!c.passwordVisible)}),i()}if(e&2){let t=m(2);l("nzType",t.passwordVisible?"eye":"eye-invisible")}}function qe(e,n){e&1&&a(0," Please enter your password. ")}function Ge(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function Ue(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function He(e,n){if(e&1&&s(0,qe,1,0)(1,Ge,1,1)(2,Ue,1,1),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Be(e,n){e&1&&a(0," Please confirm your password. ")}function Xe(e,n){e&1&&a(0," The confirm password is inconsistent with password. ")}function $e(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function Je(e,n){if(e&1&&a(0),e&2){let t=m(3);g(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function We(e,n){if(e&1&&s(0,Be,1,0)(1,Xe,1,0)(2,$e,1,1)(3,Je,1,1),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("confirm")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function Ye(e,n){if(e&1){let t=T();u(0),o(1,"button",36),w("nzOnConfirm",function(){x(t);let c=m(2);return h(c.register())}),a(2," Submit "),i(),f()}if(e&2){m();let t=C(51),d=m();r(),l("nzLoading",d.isLoading())("nzIcon",t)("disabled",!d.registerForm.valid)}}function je(e,n){if(e&1){let t=T();u(0),o(1,"button",37),w("nzOnConfirm",function(){x(t);let c=m(2);return h(c.resetForm())}),a(2," Reset "),i(),f()}if(e&2){m();let t=C(53);r(),l("nzIcon",t)("nzOkDanger",!0)}}function Ke(e,n){e&1&&(u(0),o(1,"h4",30),_(2,"nz-icon",38),i(),f())}function Qe(e,n){e&1&&(u(0),o(1,"h5",39),a(2,"Do you want to submit form?"),i(),f())}function Ze(e,n){e&1&&(o(0,"nz-space",13),s(1,Ke,3,0,"ng-container",14)(2,Qe,3,0,"ng-container",14),i())}function et(e,n){e&1&&(u(0),o(1,"h4",12),_(2,"nz-icon",38),i(),f())}function tt(e,n){e&1&&(u(0),o(1,"h5",39),a(2,"Do you want to reset form?"),i(),f())}function nt(e,n){e&1&&(o(0,"nz-space",13),s(1,et,3,0,"ng-container",14)(2,tt,3,0,"ng-container",14),i())}function it(e,n){if(e&1){let t=T();o(0,"div",10)(1,"div",11)(2,"nz-space",13),s(3,Se,3,0,"ng-container",14)(4,Re,3,0,"ng-container",14),i()()(),o(5,"div",10)(6,"div",11)(7,"nz-space",13),s(8,Ne,3,0,"ng-container",14)(9,be,4,0,"ng-container",14),i()()(),o(10,"div",10)(11,"div",15)(12,"form",16)(13,"nz-form-item")(14,"nz-form-label",17),a(15,"Username"),i(),o(16,"nz-form-control",18),_(17,"input",19),s(18,Pe,3,3,"ng-template",null,0,z),i()(),o(20,"nz-form-item")(21,"nz-form-label",20),a(22,"Email"),i(),o(23,"nz-form-control",18),_(24,"input",21),s(25,ke,4,4,"ng-template",null,1,z),i()(),o(27,"nz-form-item")(28,"nz-form-label",22),a(29,"Password"),i(),o(30,"nz-form-control",18)(31,"nz-input-group",23)(32,"input",24),w("ngModelChange",function(){x(t);let c=m();return h(c.validateConfirmPassword())}),i()(),_(33,"password-strength-meter",25),s(34,Oe,1,1,"ng-template",null,2,z),i(),s(36,He,3,3,"ng-template",null,3,z),i(),o(38,"nz-form-item")(39,"nz-form-label",26),a(40,"Confirm Password"),i(),o(41,"nz-form-control",18),_(42,"input",27),s(43,We,4,4,"ng-template",null,4,z),i()(),o(45,"nz-form-item")(46,"nz-form-control",28)(47,"nz-space",13),s(48,Ye,3,3,"ng-container",14)(49,je,3,2,"ng-container",14),i()(),s(50,Ze,3,0,"ng-template",null,5,z)(52,nt,3,0,"ng-template",null,6,z),i()(),_(54,"app-form-errors",29),i()()}if(e&2){let t=C(19),d=C(26),c=C(35),Ee=C(37),ve=C(44),v=m();r(12),l("formGroup",v.registerForm),r(2),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",t),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",d),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",Ee),r(),l("nzSuffix",c),r(),l("type",v.passwordVisible?"text":"password"),r(),l("password",v.newPassword),r(6),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",ve),r(5),l("nzOffset",12)("nzSpan",24),r(8),l("errorResponse",v.errorResponse)}}var kt=(()=>{class e{router=y(V);#e=y(ge);errorResponse=this.#e.selectors.errorResponse;isAuthenticated=this.#e.selectors.isAuthenticated;isLoading=N(!1);passwordVisible=!1;MinUserNameLength=2;MaxUserNameLength=100;MinEmailLength=3;MaxEmailLength=50;MinPasswordLength=16;MaxPasswordLength=32;pageHeaderInfo={title:"Registration Form Example",breadcrumb:["Examples","Registration"],desc:`
      This is an example of using form controls. It shows interactions with the server app written in .NET Core 9.
      The server data is in JSON format and served dynamically via API controllers.
      In the web browser, there is an Angular 19 app which intercepts and shows the data.
      In addition, it shows rate limiting implementation using AspNetCoreRateLimit.
      `};confirmValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0};if(t.value!==this.registerForm.controls.password.value)return{error:!0,confirm:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};nameValidator=t=>{if(t.value){if(t.value.length<2)return{error:!0,min:!0};if(t.value.length>100)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};emailValidator=t=>{if(t.value){if(t.value.length<3)return{error:!0,min:!0};if(t.value.length>50)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};registerForm=new D({email:new E("",{nonNullable:!0,validators:[L.email,this.emailValidator]}),password:new E("",{nonNullable:!0,validators:[this.passwordValidator]}),confirm:new E("",{nonNullable:!0,validators:[this.confirmValidator]}),username:new E("",{nonNullable:!0,validators:[this.nameValidator]})});get newPassword(){return this.registerForm.controls.password.value}register(){this.isLoading()||(this.isLoading.set(!0),this.#e.register({loading:this.isLoading,form:this.registerForm}))}resetForm(){this.registerForm.reset(),this.registerForm.controls.email.markAsPristine(),this.registerForm.controls.email.updateValueAndValidity(),this.registerForm.controls.username.markAsPristine(),this.registerForm.controls.username.updateValueAndValidity(),this.registerForm.controls.password.markAsPristine(),this.registerForm.controls.password.updateValueAndValidity(),this.registerForm.controls.confirm.markAsPristine(),this.registerForm.controls.confirm.updateValueAndValidity()}clickLink(){this.router.navigate(["home","sign-in"])}validateConfirmPassword(){Promise.resolve().then(()=>this.registerForm.controls.confirm.updateValueAndValidity())}ngOnDestroy(){this.#e.resetErrorResponse()}static \u0275fac=function(d){return new(d||e)};static \u0275cmp=b({type:e,selectors:[["app-register"]],decls:5,vars:3,consts:[["userErrorTpl",""],["emailErrorTpl",""],["suffixTemplate",""],["passwordErrorTpl",""],["confirmErrorTpl",""],["applyTpl",""],["closeTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[1,"m-b-20",3,"nzBordered"],["nz-row","","nzJustify","center"],["nz-col",""],["nz-typography","","nzType","danger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-col","","nzXs","16","nzSm","17","nzMd","17","nzLg","18","nzXl","18","nzXXl","12"],["nz-form","",3,"formGroup"],["nzFor","username","nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","username","id","username","autocomplete","off","placeholder","Enter your username"],["nzFor","email","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","email","id","email","autocomplete","off","placeholder","Enter your email","type","email"],["nzFor","password","nzRequired","",3,"nzSpan"],[3,"nzSuffix"],["nz-input","","formControlName","password","id","password","autocomplete","off","placeholder","Enter your password",3,"ngModelChange","type"],[3,"password"],["nzFor","confirm","nzRequired","",3,"nzSpan"],["nz-input","","type","password","formControlName","confirm","id","confirm","placeholder","Confirm your password"],[3,"nzOffset","nzSpan"],[3,"errorResponse"],["nz-typography","","nzType","success"],["nz-typography","","nzType","warning"],["nzType","info-circle","nz-tooltip","","nzTooltipTitle","This feature is not implemented yet."],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","arrow-right"],["nz-icon","",3,"click","nzType"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzLoading","nzIcon","disabled"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(d,c){d&1&&(_(0,"app-page-header",7),o(1,"div",8)(2,"nz-card",9),s(3,ye,4,0,"div",10)(4,it,55,19),i()()),d&2&&(l("pageHeaderInfo",c.pageHeaderInfo),r(2),l("nzBordered",!0),r(),p(c.isAuthenticated()?3:4))},dependencies:[Ce,G,k,P,I,A,O,q,re,B,H,U,F,M,_e,me,le,pe,se,de,ce,Y,te,Q,ee,Z,ae,oe,W,X,$,J,fe,ue,ie,ne,K,j,ze],encapsulation:2,changeDetection:0})}return e})();export{kt as default};
