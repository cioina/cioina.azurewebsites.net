import{$a as m,Ab as K,E as X,_a as Z,yb as $}from"./chunk-PJMLK4ZA.js";import{$b as k,Ab as f,Bc as H,Cc as J,Da as A,Ga as N,Ha as I,Hb as w,Ib as b,Nb as j,Pa as E,Tb as O,Ua as M,Ub as u,Vb as F,Wb as V,ad as U,eb as T,ec as d,ed as L,fc as S,gc as P,kc as R,nc as Q,oa as x,pc as l,q as h,r as o,sb as G,ta as y,vb as D,vc as W,wc as q,xc as B}from"./chunk-DRX476G4.js";var nt=["textEl"];function it(i,r){if(i&1&&P(0,"nz-icon",1),i&2){let a=l();u("nzType",a.nzIcon)}}function at(i,r){if(i&1){let a=R();d(0,"img",4),Q("error",function(z){N(a);let p=l();return I(p.imgError(z))}),S()}if(i&2){let a=l();u("src",a.nzSrc,G),O("srcset",a.nzSrcSet)("alt",a.nzAlt)}}function ot(i,r){if(i&1&&(d(0,"span",3,0),H(2),S()),i&2){let a=l();D(2),J(a.nzText)}}var rt="avatar",Y=(()=>{let i,r=[],a=[],s,z=[],p=[],g,_=[],C=[];return class v{static{let n=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[m()],s=[m()],g=[m()],h(null,null,i,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:t=>"nzShape"in t,get:t=>t.nzShape,set:(t,e)=>{t.nzShape=e}},metadata:n},r,a),h(null,null,s,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:t=>"nzSize"in t,get:t=>t.nzSize,set:(t,e)=>{t.nzSize=e}},metadata:n},z,p),h(null,null,g,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:t=>"nzGap"in t,get:t=>t.nzGap,set:(t,e)=>{t.nzGap=e}},metadata:n},_,C),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}constructor(n,t){this.nzConfigService=n,this.cdr=t,this._nzModuleName=rt,this.nzShape=o(this,r,"circle"),this.nzSize=(o(this,a),o(this,z,"default")),this.nzGap=(o(this,p),o(this,_,4)),this.nzText=o(this,C),this.nzError=new E,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.customSize=null,this.el=y(M).nativeElement,T(()=>this.calcStringSize())}imgError(n){this.nzError.emit(n),n.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let n=this.textEl.nativeElement,t=n.offsetWidth,e=this.el.getBoundingClientRect?.().width??0,c=this.nzGap*2<e?this.nzGap*2:8,tt=e-c<t?(e-c)/t:1;n.style.transform=`scale(${tt}) translateX(-50%)`,n.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=`${this.nzSize}px`:this.customSize=null,this.cdr.markForCheck()}static{this.\u0275fac=function(t){return new(t||v)(f(Z),f(U))}}static{this.\u0275cmp=w({type:v,selectors:[["nz-avatar"]],viewQuery:function(t,e){if(t&1&&W(nt,5),t&2){let c;q(c=B())&&(e.textEl=c.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(t,e){t&2&&(F("width",e.customSize)("height",e.customSize)("line-height",e.customSize)("font-size",e.hasIcon&&e.customSize?e.nzSize/2:null,"px"),V("ant-avatar-lg",e.nzSize==="large")("ant-avatar-sm",e.nzSize==="small")("ant-avatar-square",e.nzShape==="square")("ant-avatar-circle",e.nzShape==="circle")("ant-avatar-icon",e.nzIcon)("ant-avatar-image",e.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",L],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[A],decls:3,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(t,e){t&1&&j(0,it,1,1,"nz-icon",1)(1,at,1,3,"img",2)(2,ot,3,1,"span",3),t&2&&k(e.nzIcon&&e.hasIcon?0:e.nzSrc&&e.hasSrc?1:e.nzText&&e.hasText?2:-1)},dependencies:[K,$,X],encapsulation:2,changeDetection:0})}}})();var It=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=b({type:i})}static{this.\u0275inj=x({imports:[Y]})}}return i})();export{Y as a,It as b};
