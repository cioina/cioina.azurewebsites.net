import{a as xe}from"./chunk-B6JREA5E.js";import{a as ze}from"./chunk-RZS2VBKI.js";import{A as ae,F as le,J as Ce}from"./chunk-EKL3WZR4.js";import"./chunk-KZNNWNDS.js";import{h as pe,i as ce,j as de,k as _e,l as ue,m as fe,n as ge}from"./chunk-Y3M25KWH.js";import{a as G,b as U,i as H,k as B,l as re,m as oe}from"./chunk-CJQLLOKI.js";import{a as D,b as k,c as O,e as q}from"./chunk-JRPV4KBQ.js";import"./chunk-FOQHZVA7.js";import{ba as me,ca as se,k as M}from"./chunk-I77QUVB7.js";import"./chunk-4Q6BGM2E.js";import"./chunk-PZF5K3UE.js";import{D as Z,E as ee,N as te,O as ne,P as ie,d as L,e as I,f as A,n as X,o as $,q as J,r as W,t as Y,u as v,w as j,y as K,z as Q}from"./chunk-QUV3AW6L.js";import{ta as F,va as P}from"./chunk-75GKP3NE.js";import"./chunk-EOIQRFAW.js";import"./chunk-CAAASSRE.js";import{$b as i,Ac as a,Cc as C,Db as _,Ga as b,Sb as s,Ub as p,Yc as x,Zb as l,_b as o,ac as u,bc as f,cc as g,ec as w,jc as E,lb as r,lc as m,oa as S,vc as z,xa as h,xb as V,ya as T}from"./chunk-LNT4AZLS.js";import"./chunk-3XFQOAE3.js";function Se(e,n){e&1&&(o(0,"div",10)(1,"div",11)(2,"h3",12),a(3,"Already Authenticated"),i()()())}function Re(e,n){e&1&&(f(0),o(1,"h3",30),a(2,"Register an account"),i(),g())}function Ne(e,n){e&1&&(f(0),o(1,"h5",31),u(2,"nz-icon",32),i(),g())}function be(e,n){e&1&&(f(0),o(1,"h5",31),a(2,"Already have an account?"),i(),g())}function Ve(e,n){if(e&1){let t=w();f(0),o(1,"a",33),E("click",function(){h(t);let c=m(2);return T(c.clickLink())}),a(2,"Sign In"),u(3,"span",34),i(),g()}}function Me(e,n){e&1&&a(0," Please input your username. ")}function Fe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The username must be at least ",t.MinUserNameLength," characters long. ")}}function Pe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The username must be at most ",t.MaxUserNameLength," characters long. ")}}function Le(e,n){if(e&1&&(s(0,Me,1,0),s(1,Fe,1,1),s(2,Pe,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Ie(e,n){e&1&&a(0," The input is not a valid email. ")}function Ae(e,n){e&1&&a(0," Please input your email. ")}function De(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The email must be at least ",t.MinEmailLength," characters long. ")}}function ke(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The email must be at most ",t.MaxEmailLength," characters long. ")}}function Oe(e,n){if(e&1&&(s(0,Ie,1,0),s(1,Ae,1,0),s(2,De,1,1),s(3,ke,1,1)),e&2){let t=n.$implicit;p(t.hasError("email")?0:-1),r(),p(t.hasError("required")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function qe(e,n){if(e&1){let t=w();o(0,"span",35),E("click",function(){h(t);let c=m(2);return T(c.passwordVisible=!c.passwordVisible)}),i()}if(e&2){let t=m(2);l("nzType",t.passwordVisible?"eye":"eye-invisible")}}function Ge(e,n){e&1&&a(0," Please enter your password. ")}function Ue(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function He(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Be(e,n){if(e&1&&(s(0,Ge,1,0),s(1,Ue,1,1),s(2,He,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Xe(e,n){e&1&&a(0," Please confirm your password. ")}function $e(e,n){e&1&&a(0," The confirm password is inconsistent with password. ")}function Je(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function We(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Ye(e,n){if(e&1&&(s(0,Xe,1,0),s(1,$e,1,0),s(2,Je,1,1),s(3,We,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("confirm")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function je(e,n){if(e&1){let t=w();f(0),o(1,"button",36),E("nzOnConfirm",function(){h(t);let c=m(2);return T(c.register())}),a(2," Submit "),i(),g()}if(e&2){m();let t=z(51),d=m();r(),l("nzLoading",d.isLoading())("nzIcon",t)("disabled",!d.registerForm.valid)}}function Ke(e,n){if(e&1){let t=w();f(0),o(1,"button",37),E("nzOnConfirm",function(){h(t);let c=m(2);return T(c.resetForm())}),a(2," Reset "),i(),g()}if(e&2){m();let t=z(53);r(),l("nzIcon",t)("nzOkDanger",!0)}}function Qe(e,n){e&1&&(f(0),o(1,"h4",30),u(2,"nz-icon",38),i(),g())}function Ze(e,n){e&1&&(f(0),o(1,"h5",39),a(2,"Do you want to submit form?"),i(),g())}function et(e,n){e&1&&(o(0,"nz-space",13),_(1,Qe,3,0,"ng-container",14)(2,Ze,3,0,"ng-container",14),i())}function tt(e,n){e&1&&(f(0),o(1,"h4",12),u(2,"nz-icon",38),i(),g())}function nt(e,n){e&1&&(f(0),o(1,"h5",39),a(2,"Do you want to reset form?"),i(),g())}function it(e,n){e&1&&(o(0,"nz-space",13),_(1,tt,3,0,"ng-container",14)(2,nt,3,0,"ng-container",14),i())}function rt(e,n){if(e&1){let t=w();o(0,"div",10)(1,"div",11)(2,"nz-space",13),_(3,Re,3,0,"ng-container",14)(4,Ne,3,0,"ng-container",14),i()()(),o(5,"div",10)(6,"div",11)(7,"nz-space",13),_(8,be,3,0,"ng-container",14)(9,Ve,4,0,"ng-container",14),i()()(),o(10,"div",10)(11,"div",15)(12,"form",16)(13,"nz-form-item")(14,"nz-form-label",17),a(15,"Username"),i(),o(16,"nz-form-control",18),u(17,"input",19),_(18,Le,3,3,"ng-template",null,0,x),i()(),o(20,"nz-form-item")(21,"nz-form-label",20),a(22,"Email"),i(),o(23,"nz-form-control",18),u(24,"input",21),_(25,Oe,4,4,"ng-template",null,1,x),i()(),o(27,"nz-form-item")(28,"nz-form-label",22),a(29,"Password"),i(),o(30,"nz-form-control",18)(31,"nz-input-group",23)(32,"input",24),E("ngModelChange",function(){h(t);let c=m();return T(c.validateConfirmPassword())}),i()(),u(33,"password-strength-meter",25),_(34,qe,1,1,"ng-template",null,2,x),i(),_(36,Be,3,3,"ng-template",null,3,x),i(),o(38,"nz-form-item")(39,"nz-form-label",26),a(40,"Confirm Password"),i(),o(41,"nz-form-control",18),u(42,"input",27),_(43,Ye,4,4,"ng-template",null,4,x),i()(),o(45,"nz-form-item")(46,"nz-form-control",28)(47,"nz-space",13),_(48,je,3,3,"ng-container",14)(49,Ke,3,2,"ng-container",14),i()(),_(50,et,3,0,"ng-template",null,5,x)(52,it,3,0,"ng-template",null,6,x),i()(),u(54,"app-form-errors",29),i()()}if(e&2){let t=z(19),d=z(26),c=z(35),ve=z(37),ye=z(44),y=m();r(12),l("formGroup",y.registerForm),r(2),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",t),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",d),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",ve),r(),l("nzSuffix",c),r(),l("type",y.passwordVisible?"text":"password"),r(),l("password",y.newPassword),r(6),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",ye),r(5),l("nzOffset",12)("nzSpan",24),r(8),l("errorResponse",y.errorResponse)}}var Xt=(()=>{class e{router=S(M);#e=S(Ce);errorResponse=this.#e.selectors.errorResponse;isAuthenticated=this.#e.selectors.isAuthenticated;isLoading=b(!1);passwordVisible=!1;MinUserNameLength=2;MaxUserNameLength=100;MinEmailLength=3;MaxEmailLength=50;MinPasswordLength=16;MaxPasswordLength=32;pageHeaderInfo={title:"Registration Form Example",breadcrumb:["Examples","Registration"],desc:`
      This is an example of using form controls. It shows interactions with the server app written in .NET Core 9.
      The server data is in JSON format and served dynamically via API controllers.
      In the web browser, there is an Angular 19 app which intercepts and shows the data.
      In addition, it shows rate limiting implementation using AspNetCoreRateLimit.
      `};confirmValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0};if(t.value!==this.registerForm.controls.password.value)return{error:!0,confirm:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};nameValidator=t=>{if(t.value){if(t.value.length<2)return{error:!0,min:!0};if(t.value.length>100)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};emailValidator=t=>{if(t.value){if(t.value.length<3)return{error:!0,min:!0};if(t.value.length>50)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};registerForm=new Y({email:new v("",{nonNullable:!0,validators:[$.email,this.emailValidator]}),password:new v("",{nonNullable:!0,validators:[this.passwordValidator]}),confirm:new v("",{nonNullable:!0,validators:[this.confirmValidator]}),username:new v("",{nonNullable:!0,validators:[this.nameValidator]})});get newPassword(){return this.registerForm.controls.password.value}register(){this.isLoading()||(this.isLoading.set(!0),this.#e.register({loading:this.isLoading,form:this.registerForm}))}resetForm(){this.registerForm.reset(),this.registerForm.controls.email.markAsPristine(),this.registerForm.controls.email.updateValueAndValidity(),this.registerForm.controls.username.markAsPristine(),this.registerForm.controls.username.updateValueAndValidity(),this.registerForm.controls.password.markAsPristine(),this.registerForm.controls.password.updateValueAndValidity(),this.registerForm.controls.confirm.markAsPristine(),this.registerForm.controls.confirm.updateValueAndValidity()}clickLink(){this.router.navigate(["home","sign-in"])}validateConfirmPassword(){Promise.resolve().then(()=>this.registerForm.controls.confirm.updateValueAndValidity())}ngOnDestroy(){this.#e.resetErrorResponse()}static \u0275fac=function(d){return new(d||e)};static \u0275cmp=V({type:e,selectors:[["app-register"]],decls:5,vars:3,consts:[["userErrorTpl",""],["emailErrorTpl",""],["suffixTemplate",""],["passwordErrorTpl",""],["confirmErrorTpl",""],["applyTpl",""],["closeTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[1,"m-b-20",3,"nzBordered"],["nz-row","","nzJustify","center"],["nz-col",""],["nz-typography","","nzType","danger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-col","","nzXs","16","nzSm","17","nzMd","17","nzLg","18","nzXl","18","nzXXl","12"],["nz-form","",3,"formGroup"],["nzFor","username","nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","username","id","username","autocomplete","off","placeholder","Enter your username"],["nzFor","email","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","email","id","email","autocomplete","off","placeholder","Enter your email","type","email"],["nzFor","password","nzRequired","",3,"nzSpan"],[3,"nzSuffix"],["nz-input","","formControlName","password","id","password","autocomplete","off","placeholder","Enter your password",3,"ngModelChange","type"],[3,"password"],["nzFor","confirm","nzRequired","",3,"nzSpan"],["nz-input","","type","password","formControlName","confirm","id","confirm","placeholder","Confirm your password"],[3,"nzOffset","nzSpan"],[3,"errorResponse"],["nz-typography","","nzType","success"],["nz-typography","","nzType","warning"],["nzType","info-circle","nz-tooltip","","nzTooltipTitle","This feature is not implemented yet."],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","arrow-right"],["nz-icon","",3,"click","nzType"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzLoading","nzIcon","disabled"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(d,c){d&1&&(u(0,"app-page-header",7),o(1,"div",8)(2,"nz-card",9),s(3,Se,4,0,"div",10)(4,rt,55,19),i()()),d&2&&(l("pageHeaderInfo",c.pageHeaderInfo),r(2),l("nzBordered",!0),r(),p(c.isAuthenticated()?3:4))},dependencies:[ze,Z,j,X,J,W,K,Q,le,A,I,L,P,F,ue,U,G,ce,pe,_e,de,ae,ie,ee,ne,te,se,me,q,D,k,O,ge,fe,oe,re,B,H,xe],encapsulation:2,changeDetection:0})}return e})();export{Xt as default};
