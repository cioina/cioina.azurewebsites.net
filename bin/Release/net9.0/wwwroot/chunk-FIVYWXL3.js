import{a as Xe}from"./chunk-ZVFNTXAJ.js";import{a as Ce,b as we}from"./chunk-PIU3CTBW.js";import{b as ae}from"./chunk-JWSUZBPR.js";import"./chunk-OP7BN7RJ.js";import{a as je,b as qe}from"./chunk-DWH43AQU.js";import{a as _e}from"./chunk-2UFOOSNL.js";import{a as he}from"./chunk-QTLPJDZ4.js";import{a as Ge,b as Oe,c as Ae}from"./chunk-TLQBJGGE.js";import{a as Be}from"./chunk-D2QJD6PM.js";import"./chunk-XSFZ627Z.js";import{a as Ie,b as Ve,h as te,i as re,j as oe,k as ne,l as ie,m as ze,n as ge}from"./chunk-I2TSC4Y4.js";import{a as R,b as W,c as G,l as Z,m as ee}from"./chunk-EYKXQAQZ.js";import{a as M,b as D,c as P,d as de,e as E}from"./chunk-HLWTKEP7.js";import"./chunk-3I7NOWJ2.js";import{ca as Re,da as We,i as be,l as ke}from"./chunk-IDAPXTSL.js";import"./chunk-7ETIJ5FI.js";import"./chunk-Q3PG4OCM.js";import{B as fe,C as q,E as X,G as $,H,J as Le,K as ue,L as U,M as J,N as Y,O as K,P as Q,d as se,e as pe,f as ce,v as O,w as A,y as B,z as j}from"./chunk-IW7H4CRV.js";import{ua as V,wa as L}from"./chunk-KPQYH44D.js";import{a as ye}from"./chunk-5IWMTNFE.js";import{Ba as Pe,Bb as le,Bc as C,Db as h,Gc as a,Hc as Se,Ic as _,Na as me,Uc as Ee,Vb as d,Xb as f,ac as i,bc as l,cc as n,cd as w,dc as u,g as De,ha as N,hc as k,ic as I,kc as S,lb as r,ma as p,pc as g,r as y,rc as c,sd as Fe,va as v,wa as x,xb as T}from"./chunk-WTQVSPW6.js";import"./chunk-3XFQOAE3.js";function ft(e,s){e&1&&a(0," The input is not a valid email. ")}function ut(e,s){e&1&&a(0," Please enter your email ")}function zt(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The email must be at least ",t.params.MinEmailLength," characters long. ")}}function gt(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The email must be at most ",t.params.MaxEmailLength," characters long. ")}}function ht(e,s){if(e&1&&(d(0,ft,1,0),d(1,ut,1,0),d(2,zt,1,1),d(3,gt,1,1)),e&2){let t=s.$implicit;f(t.hasError("email")?0:-1),r(),f(t.hasError("required")?1:-1),r(),f(t.hasError("min")?2:-1),r(),f(t.hasError("max")?3:-1)}}function Ct(e,s){if(e&1){let t=S();l(0,"nz-icon",15),g("click",function(){v(t);let m=c();return x(m.passwordVisible=!m.passwordVisible)}),n()}if(e&2){let t=c();i("nzType",t.passwordVisible?"eye":"eye-invisible")}}function wt(e,s){e&1&&a(0," Please enter your password ")}function _t(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The password must be at least ",t.params.MinPasswordLength," characters long. ")}}function vt(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The password must be at most ",t.params.MaxPasswordLength," characters long. ")}}function xt(e,s){if(e&1&&(d(0,wt,1,0),d(1,_t,1,1),d(2,vt,1,1)),e&2){let t=s.$implicit;f(t.hasError("required")?0:-1),r(),f(t.hasError("min")?1:-1),r(),f(t.hasError("max")?2:-1)}}function St(e,s){e&1&&(k(0),l(1,"h4",18),u(2,"nz-icon",19),n(),I())}function yt(e,s){e&1&&(k(0),l(1,"h5",20),a(2,"Do you want to reset form?"),n(),I())}function Nt(e,s){e&1&&(l(0,"nz-space",16),h(1,St,3,0,"ng-container",17)(2,yt,3,0,"ng-container",17),n())}var ot=(()=>{class e{params={MinEmailLength:1,MaxEmailLength:1,MinPasswordLength:1,MaxPasswordLength:1,email:""};passwordVisible=!1;emailValidator=t=>{if(t.value){if(t.value.length<this.params.MinEmailLength)return{error:!0,min:!0};if(t.value.length>this.params.MaxEmailLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<this.params.MinPasswordLength)return{error:!0,min:!0};if(t.value.length>this.params.MaxPasswordLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};validateForm=new fe({email:new q("",{nonNullable:!0,validators:[A.email,this.emailValidator]}),password:new q("",{nonNullable:!0,validators:[this.passwordValidator]})});get newPassword(){return this.validateForm.controls.password.value}resetForm(){this.validateForm.reset(),this.validateForm.controls.email.markAsPristine(),this.validateForm.controls.email.updateValueAndValidity(),this.validateForm.controls.password.markAsPristine(),this.validateForm.controls.password.updateValueAndValidity()}ngOnInit(){this.validateForm.patchValue({email:this.params.email})}getCurrentValue(){return ae(this.validateForm)?y(this.validateForm.value):y(!1)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=T({type:e,selectors:[["app-ex-drawer-drawer"]],decls:26,vars:12,consts:[["userErrorTpl",""],["suffixTemplate",""],["passwordErrorTpl",""],["closeTpl",""],["nz-row","","nzJustify","center"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24","nzXl","24","nzXXl","24"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],[3,"nzSpan","nzErrorTip"],["nzPrefixIcon","user"],["nz-input","","formControlName","email","placeholder","Please enter you email"],["nzPrefixIcon","lock",3,"nzSuffix"],["nz-input","","formControlName","password","placeholder","Please enter you password",3,"type"],[3,"password"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],[1,"login-form-icon",3,"click","nzType"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-typography","","nzType","danger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(o,m){if(o&1){let z=S();l(0,"div",4)(1,"div",5)(2,"form",6)(3,"nz-form-item")(4,"nz-form-label",7),a(5,"Email"),n(),l(6,"nz-form-control",8)(7,"nz-input-group",9),u(8,"input",10),n(),h(9,ht,4,4,"ng-template",null,0,w),n()(),l(11,"nz-form-item")(12,"nz-form-label",7),a(13,"Password"),n(),l(14,"nz-form-control",8)(15,"nz-input-group",11),u(16,"input",12),n(),u(17,"password-strength-meter",13),h(18,Ct,1,1,"ng-template",null,1,w)(20,xt,3,3,"ng-template",null,2,w),l(22,"button",14),g("nzOnConfirm",function(){return v(z),x(m.resetForm())}),a(23," Reset "),n()(),h(24,Nt,3,0,"ng-template",null,3,w),n()()()()}if(o&2){let z=C(10),b=C(19),ve=C(21),xe=C(25);r(2),i("formGroup",m.validateForm),r(2),i("nzSpan",7),r(2),i("nzSpan",24)("nzErrorTip",z),r(6),i("nzSpan",7),r(2),i("nzSpan",24)("nzErrorTip",ve),r(),i("nzSuffix",b),r(),i("type",m.passwordVisible?"text":"password"),r(),i("password",m.newPassword),r(5),i("nzIcon",xe)("nzOkDanger",!0)}},dependencies:[U,X,O,B,j,$,H,E,M,D,P,ge,ze,G,W,R,ie,re,te,ne,oe,L,V,Q,J,K,Y,ce,pe,se,ee,Z,_e],encapsulation:2,changeDetection:0})}return e})();var nt=(()=>{class e{drawerWrapService=p(Xe);getContentComponent(){return ot}show(t={},o){return this.drawerWrapService.show(this.getContentComponent(),t,o)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tt(e,s){e&1&&a(0," The input is not a valid email. ")}function Mt(e,s){e&1&&a(0," Please enter your email ")}function Dt(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The email must be at least ",t.config.nzData.MinEmailLength," characters long. ")}}function Pt(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The email must be at most ",t.config.nzData.MaxEmailLength," characters long. ")}}function Et(e,s){if(e&1&&(d(0,Tt,1,0),d(1,Mt,1,0),d(2,Dt,1,1),d(3,Pt,1,1)),e&2){let t=s.$implicit;f(t.hasError("email")?0:-1),r(),f(t.hasError("required")?1:-1),r(),f(t.hasError("min")?2:-1),r(),f(t.hasError("max")?3:-1)}}function Ft(e,s){if(e&1){let t=S();l(0,"nz-icon",15),g("click",function(){v(t);let m=c();return x(m.passwordVisible=!m.passwordVisible)}),n()}if(e&2){let t=c();i("nzType",t.passwordVisible?"eye":"eye-invisible")}}function bt(e,s){e&1&&a(0," Please enter your password ")}function kt(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The password must be at least ",t.config.nzData.MinPasswordLength," characters long. ")}}function It(e,s){if(e&1&&a(0),e&2){let t=c(2);_(" The password must be at most ",t.config.nzData.MaxPasswordLength," characters long. ")}}function Vt(e,s){if(e&1&&(d(0,bt,1,0),d(1,kt,1,1),d(2,It,1,1)),e&2){let t=s.$implicit;f(t.hasError("required")?0:-1),r(),f(t.hasError("min")?1:-1),r(),f(t.hasError("max")?2:-1)}}function Lt(e,s){e&1&&(k(0),l(1,"h4",18),u(2,"nz-icon",19),n(),I())}function Rt(e,s){e&1&&(k(0),l(1,"h5",20),a(2,"Do you want to reset form?"),n(),I())}function Wt(e,s){e&1&&(l(0,"nz-space",16),h(1,Lt,3,0,"ng-container",17)(2,Rt,3,0,"ng-container",17),n())}var it=(()=>{class e extends Ce{modalRef=p(he);getCurrentValue(){return ae(this.validateForm)?y(this.validateForm.value):y(!1)}config=this.modalRef.getConfig();passwordVisible=!1;emailValidator=t=>{if(t.value){if(t.value.length<this.config.nzData.MinEmailLength)return{error:!0,min:!0};if(t.value.length>this.config.nzData.MaxEmailLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<this.config.nzData.MinPasswordLength)return{error:!0,min:!0};if(t.value.length>this.config.nzData.MaxPasswordLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};validateForm=new fe({email:new q("",{nonNullable:!0,validators:[A.email,this.emailValidator]}),password:new q("",{nonNullable:!0,validators:[this.passwordValidator]})});get newPassword(){return this.validateForm.controls.password.value}resetForm(){this.validateForm.reset(),this.validateForm.controls.email.markAsPristine(),this.validateForm.controls.email.updateValueAndValidity(),this.validateForm.controls.password.markAsPristine(),this.validateForm.controls.password.updateValueAndValidity()}ngOnInit(){this.validateForm.patchValue({email:this.config.nzData.email})}static \u0275fac=(()=>{let t;return function(m){return(t||(t=me(e)))(m||e)}})();static \u0275cmp=T({type:e,selectors:[["app-change-password"]],features:[le],decls:26,vars:12,consts:[["userErrorTpl",""],["suffixTemplate",""],["passwordErrorTpl",""],["closeTpl",""],["nz-row","","nzJustify","center"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24","nzXl","24","nzXXl","24"],["nz-form","",1,"m-t-30","full-with","p-l-25","p-r-24","m-b-20",3,"formGroup"],["nzRequired","",3,"nzSpan"],[3,"nzSpan","nzErrorTip"],["nzPrefixIcon","user"],["nz-input","","formControlName","email","placeholder","Please enter you email"],["nzPrefixIcon","lock",3,"nzSuffix"],["nz-input","","formControlName","password","placeholder","Please enter you password",3,"type"],[3,"password"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],[1,"login-form-icon",3,"click","nzType"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-typography","","nzType","danger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(o,m){if(o&1){let z=S();l(0,"div",4)(1,"div",5)(2,"form",6)(3,"nz-form-item")(4,"nz-form-label",7),a(5,"Email"),n(),l(6,"nz-form-control",8)(7,"nz-input-group",9),u(8,"input",10),n(),h(9,Et,4,4,"ng-template",null,0,w),n()(),l(11,"nz-form-item")(12,"nz-form-label",7),a(13,"Password"),n(),l(14,"nz-form-control",8)(15,"nz-input-group",11),u(16,"input",12),n(),u(17,"password-strength-meter",13),h(18,Ft,1,1,"ng-template",null,1,w)(20,Vt,3,3,"ng-template",null,2,w),l(22,"button",14),g("nzOnConfirm",function(){return v(z),x(m.resetForm())}),a(23," Reset "),n()(),h(24,Wt,3,0,"ng-template",null,3,w),n()()()()}if(o&2){let z=C(10),b=C(19),ve=C(21),xe=C(25);r(2),i("formGroup",m.validateForm),r(2),i("nzSpan",7),r(2),i("nzSpan",24)("nzErrorTip",z),r(6),i("nzSpan",7),r(2),i("nzSpan",24)("nzErrorTip",ve),r(),i("nzSuffix",b),r(),i("type",m.passwordVisible?"text":"password"),r(),i("password",m.newPassword),r(5),i("nzIcon",xe)("nzOkDanger",!0)}},dependencies:[U,X,O,B,j,$,H,E,M,D,P,ge,ze,G,W,R,ie,re,te,ne,oe,L,V,Q,J,K,Y,ce,pe,se,ee,Z,_e],encapsulation:2,changeDetection:0})}return e})();var at=(()=>{class e{modalWrapService=p(we);getContentComponent(){return it}show(t={},o){return this.modalWrapService.show(this.getContentComponent(),t,o)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mt=(()=>{class e{lockScreenStore$=new De({locked:!1,password:"",beforeLockPath:""});setLockScreenStore(t){this.lockScreenStore$.next(t)}getLockScreenStore(){return this.lockScreenStore$.asObservable()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gt(e,s){if(e&1){let t=S();l(0,"nz-icon",10),g("click",function(){v(t);let m=c();return x(m.passwordVisible=!m.passwordVisible)}),n()}if(e&2){let t=c();i("nzType",t.passwordVisible?"eye":"eye-invisible")}}var lt=(()=>{class e extends Ce{fb=p(Le);lockScreenStoreService=p(mt);activatedRoute=p(be);router=p(ke);modalRef=p(he);validateForm=this.fb.group({password:["",[A.required]]});passwordVisible=!1;submitForm(){if(!ae(this.validateForm))return;let t={locked:!0,password:this.validateForm.value.password,beforeLockPath:this.activatedRoute.snapshot._routerState.url};this.lockScreenStoreService.setLockScreenStore(t),this.modalRef.destroy(),this.router.navigateByUrl("/nowhere/empty-for-lock")}getCurrentValue(){return y(!0)}static \u0275fac=(()=>{let t;return function(m){return(t||(t=me(e)))(m||e)}})();static \u0275cmp=T({type:e,selectors:[["app-lock-widget"]],features:[le],decls:15,vars:7,consts:[["suffixTemplate",""],[1,"flex","center","flex-coloum"],[3,"nzSize","nzSrc"],[1,"sp-16","m-t-8"],["autocomplete","off","nz-form","",1,"m-t-30","full-with","p-l-25","p-r-24","m-b-20",3,"formGroup","nzLayout"],["nzRequired",""],["nzErrorTip","Please enter the lock screen password"],[3,"nzSuffix"],["name","password","autocomplete","off","formControlName","password","nz-input","","placeholder","Please enter",3,"type"],["nz-button","","nzSize","large",1,"login-form-button","full-with",3,"click","nzType"],[3,"click","nzType"]],template:function(o,m){if(o&1){let z=S();l(0,"div",1),u(1,"nz-avatar",2),l(2,"p",3),a(3,"Username"),n(),l(4,"form",4)(5,"nz-form-item")(6,"nz-form-label",5),a(7,"Lock screen password"),n(),l(8,"nz-form-control",6)(9,"nz-input-group",7),u(10,"input",8),n(),h(11,Gt,1,1,"ng-template",null,0,w),n()(),l(13,"button",9),g("click",function(){return v(z),x(m.submitForm())}),a(14," Lock "),n()()()}if(o&2){let z=C(12);r(),i("nzSize",70)("nzSrc","assets/imgs/default_face.png"),r(3),i("formGroup",m.validateForm)("nzLayout","vertical"),r(5),i("nzSuffix",z),r(),i("type",m.passwordVisible?"text":"password"),r(3),i("nzType","primary")}},dependencies:[Ve,Ie,ue,X,O,B,j,ie,W,R,re,te,ne,oe,U,$,H,G,E,M,D,P,Q,J,K,Y,L,V,de],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}return e})();var st=(()=>{class e{modalWrapService=p(we);getContentComponent(){return lt}show(t={},o){return this.modalWrapService.show(this.getContentComponent(),t,o)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ot=()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}),_o=(()=>{class e{destroyRef=p(Pe);drawerService=p(nt);cdr=p(Fe);changePasswordModalService=p(at);lockWidgetService=p(st);pageHeaderInfo={title:"Drawer/Modal Form Example",breadcrumb:["Examples","Change password"],desc:`
    This is an example of using drawer/modal with form controls. It shows how to transfer data to a custom drawer/modal service (DrawerWrapService/ModalWrapService) and back.
    `};email="";password="";showDrawer(){this.password="",this.drawerService.show({nzTitle:"Change Password"},{MinEmailLength:3,MaxEmailLength:20,MinPasswordLength:6,MaxPasswordLength:16,email:this.email}).pipe(ye(this.destroyRef)).subscribe(({modalValue:t,status:o})=>{o!==0&&(this.email=t.email,this.password=t.password,this.cdr.markForCheck())})}showModal(){this.changePasswordModalService.show({nzTitle:"Change Password"},{MinEmailLength:3,MaxEmailLength:20,MinPasswordLength:6,MaxPasswordLength:16,email:this.email}).pipe(ye(this.destroyRef)).subscribe(({modalValue:t,status:o})=>{o!==0&&(this.email=t.email,this.password=t.password,this.cdr.markForCheck())})}lockScreen(){this.lockWidgetService.show({nzTitle:"Lock screen",nzStyle:{top:"25px"},nzWidth:"520px",nzFooter:null,nzMaskClosable:!0}).subscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=T({type:e,selectors:[["app-ex-drawer"]],decls:18,vars:9,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[1,"m-b-20",3,"nzBordered"],["nzBordered","","nzTitle","Login information",3,"nzColumn","nzSize"],["nzTitle","Email"],[3,"nzColor"],["nz-typography","","nzType","success"],["nzTitle","Password"],["nz-button","",3,"click"]],template:function(o,m){o&1&&(u(0,"app-page-header",0),l(1,"div",1)(2,"nz-card",2)(3,"nz-descriptions",3)(4,"nz-descriptions-item",4)(5,"nz-tag",5)(6,"h3",6),a(7),n()()(),l(8,"nz-descriptions-item",7)(9,"nz-tag",5)(10,"h3",6),a(11),n()()()()(),l(12,"button",8),g("click",function(){return m.showDrawer()}),a(13," Show Drawer"),n(),l(14,"button",8),g("click",function(){return m.showModal()}),a(15,"Show Modal"),n(),l(16,"button",8),g("click",function(){return m.lockScreen()}),a(17,"Screen Lock Modal"),n()()),o&2&&(i("pageHeaderInfo",m.pageHeaderInfo),r(2),i("nzBordered",!0),r(),i("nzColumn",Ee(8,Ot))("nzSize","small"),r(2),i("nzColor","cyan"),r(2),Se(m.email),r(2),i("nzColor","cyan"),r(2),Se(m.password))},dependencies:[Be,ue,E,M,D,P,de,We,Re,Ae,Oe,Ge,qe,je,ee,Z],encapsulation:2,changeDetection:0})}return e})();export{_o as DrawerFormComponent};
