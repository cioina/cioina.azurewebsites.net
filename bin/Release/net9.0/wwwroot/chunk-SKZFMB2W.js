import{a as Te}from"./chunk-42B35QM2.js";import{a as xe}from"./chunk-YZVNQKDU.js";import{A as me,F as se,J as he}from"./chunk-NNPVMTDS.js";import"./chunk-NPIFWPBG.js";import{h as de,i as _e,j as ue,k as fe,l as ge,m as Ce,n as ze}from"./chunk-QQPEAWXI.js";import{a as H,b as G,i as $,k as B,l as ae,m as le}from"./chunk-QPXSU7FP.js";import"./chunk-OLLTQ7QT.js";import{l as P,pa as pe,qa as ce}from"./chunk-5OGU5VSS.js";import{C as X,D as J,F as W,G as Y,I as j,J as E,L as K,N as Q,O as Z,S as ee,T as te,U as ne,V as ie,Y as oe,Z as re,d as L,e as D,f as A,g as k,h as O,i as q,k as U}from"./chunk-CHRS3KRA.js";import{xa as I,za as V}from"./chunk-OSHPKM42.js";import"./chunk-LN3TDV4H.js";import"./chunk-FUEW3QGZ.js";import"./chunk-27QMBTGC.js";import{Aa as T,Cc as z,Gb as b,Hc as r,Ia as M,Jc as C,Mb as u,Vc as F,Wb as l,Yb as m,bc as s,cc as a,dc as i,dd as h,ec as d,ic as f,jc as g,lc as v,ob as o,qa as S,qc as w,sc as p,za as x}from"./chunk-PYPKZGXS.js";import"./chunk-3XFQOAE3.js";var Re=()=>({overflow:"auto",display:"block",width:"100%"});function Ne(e,n){e&1&&(a(0,"div",9)(1,"div",10)(2,"h3",11),r(3,"Already Authenticated"),i()()())}function Me(e,n){e&1&&(f(0),a(1,"h3",29),r(2,"Register an account"),i(),g())}function be(e,n){e&1&&(f(0),a(1,"h5",30),d(2,"nz-icon",31),i(),g())}function Fe(e,n){e&1&&(f(0),a(1,"h5",30),r(2,"Already have an account?"),i(),g())}function Pe(e,n){if(e&1){let t=v();f(0),a(1,"a",32),w("click",function(){x(t);let _=p(2);return T(_.clickLink())}),r(2,"Sign In"),d(3,"span",33),i(),g()}}function Ie(e,n){e&1&&r(0," Please input your username. ")}function Ve(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The username must be at least ",t.MinUserNameLength," characters long. ")}}function Le(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The username must be at most ",t.MaxUserNameLength," characters long. ")}}function De(e,n){if(e&1&&(l(0,Ie,1,0),l(1,Ve,1,1),l(2,Le,1,1)),e&2){let t=n.$implicit;m(t.hasError("required")?0:-1),o(),m(t.hasError("min")?1:-1),o(),m(t.hasError("max")?2:-1)}}function Ae(e,n){e&1&&r(0," The input is not a valid email. ")}function ke(e,n){e&1&&r(0," Please input your email. ")}function Oe(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The email must be at least ",t.MinEmailLength," characters long. ")}}function qe(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The email must be at most ",t.MaxEmailLength," characters long. ")}}function Ue(e,n){if(e&1&&(l(0,Ae,1,0),l(1,ke,1,0),l(2,Oe,1,1),l(3,qe,1,1)),e&2){let t=n.$implicit;m(t.hasError("email")?0:-1),o(),m(t.hasError("required")?1:-1),o(),m(t.hasError("min")?2:-1),o(),m(t.hasError("max")?3:-1)}}function He(e,n){e&1&&d(0,"nz-icon",34)}function Ge(e,n){e&1&&d(0,"nz-icon",35)}function $e(e,n){if(e&1&&l(0,He,1,0,"nz-icon",34)(1,Ge,1,0,"nz-icon",35),e&2){let t=n.$implicit;m(t?0:1)}}function Be(e,n){e&1&&r(0," Please enter your password. ")}function Xe(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function Je(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function We(e,n){if(e&1&&(l(0,Be,1,0),l(1,Xe,1,1),l(2,Je,1,1)),e&2){let t=n.$implicit;m(t.hasError("required")?0:-1),o(),m(t.hasError("min")?1:-1),o(),m(t.hasError("max")?2:-1)}}function Ye(e,n){e&1&&r(0," Please confirm your password. ")}function je(e,n){e&1&&r(0," The confirm password is inconsistent with password. ")}function Ke(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function Qe(e,n){if(e&1&&r(0),e&2){let t=p(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Ze(e,n){if(e&1&&(l(0,Ye,1,0),l(1,je,1,0),l(2,Ke,1,1),l(3,Qe,1,1)),e&2){let t=n.$implicit;m(t.hasError("required")?0:-1),o(),m(t.hasError("confirm")?1:-1),o(),m(t.hasError("min")?2:-1),o(),m(t.hasError("max")?3:-1)}}function et(e,n){if(e&1){let t=v();f(0),a(1,"button",36),w("nzOnConfirm",function(){x(t);let _=p(2);return T(_.register())}),r(2," Submit "),i(),g()}if(e&2){p();let t=z(50),c=p();o(),s("nzLoading",c.isLoading())("nzIcon",t)("disabled",!c.registerForm.valid)}}function tt(e,n){if(e&1){let t=v();f(0),a(1,"button",37),w("nzOnConfirm",function(){x(t);let _=p(2);return T(_.resetForm())}),r(2," Reset "),i(),g()}if(e&2){p();let t=z(52);o(),s("nzIcon",t)("nzOkDanger",!0)}}function nt(e,n){e&1&&(f(0),a(1,"h4",29),d(2,"nz-icon",38),i(),g())}function it(e,n){e&1&&(f(0),a(1,"h5",39),r(2,"Do you want to submit form?"),i(),g())}function ot(e,n){e&1&&(a(0,"nz-space",12),u(1,nt,3,0,"ng-container",13)(2,it,3,0,"ng-container",13),i())}function rt(e,n){e&1&&(f(0),a(1,"h4",11),d(2,"nz-icon",38),i(),g())}function at(e,n){e&1&&(f(0),a(1,"h5",39),r(2,"Do you want to reset form?"),i(),g())}function lt(e,n){e&1&&(a(0,"nz-space",12),u(1,rt,3,0,"ng-container",13)(2,at,3,0,"ng-container",13),i())}function mt(e,n){if(e&1){let t=v();a(0,"div",9)(1,"div",10)(2,"nz-space",12),u(3,Me,3,0,"ng-container",13)(4,be,3,0,"ng-container",13),i()()(),a(5,"div",9)(6,"div",10)(7,"nz-space",12),u(8,Fe,3,0,"ng-container",13)(9,Pe,4,0,"ng-container",13),i()()(),a(10,"div",9)(11,"div",14)(12,"form",15)(13,"nz-form-item")(14,"nz-form-label",16),r(15,"Username"),i(),a(16,"nz-form-control",17),d(17,"input",18),u(18,De,3,3,"ng-template",null,0,h),i()(),a(20,"nz-form-item")(21,"nz-form-label",19),r(22,"Email"),i(),a(23,"nz-form-control",17),d(24,"input",20),u(25,Ue,4,4,"ng-template",null,1,h),i()(),a(27,"nz-form-item")(28,"nz-form-label",21),r(29,"Password"),i(),a(30,"nz-form-control",17)(31,"nz-input-password")(32,"input",22),w("ngModelChange",function(){x(t);let _=p();return T(_.validateConfirmPassword())}),i(),u(33,$e,2,1,"ng-template",23),i(),d(34,"password-strength-meter",24),i(),u(35,We,3,3,"ng-template",null,2,h),i(),a(37,"nz-form-item")(38,"nz-form-label",25),r(39,"Confirm Password"),i(),a(40,"nz-form-control",17),d(41,"input",26),u(42,Ze,4,4,"ng-template",null,3,h),i()(),a(44,"nz-form-item")(45,"nz-form-control",27)(46,"nz-space",12),u(47,et,3,3,"ng-container",13)(48,tt,3,2,"ng-container",13),i()(),u(49,ot,3,0,"ng-template",null,4,h)(51,lt,3,0,"ng-template",null,5,h),i()(),d(53,"app-form-errors",28),i()()}if(e&2){let t=z(19),c=z(26),_=z(36),Se=z(43),y=p();o(12),s("formGroup",y.registerForm),o(2),s("nzSpan",12),o(2),s("nzSpan",18)("nzErrorTip",t),o(5),s("nzSpan",12),o(2),s("nzSpan",18)("nzErrorTip",c),o(5),s("nzSpan",12),o(2),s("nzSpan",18)("nzErrorTip",_),o(4),s("password",y.newPassword),o(4),s("nzSpan",12),o(2),s("nzSpan",18)("nzErrorTip",Se),o(5),s("nzOffset",y.isOverMode()?0:12),o(8),s("errorResponse",y.errorResponse)}}var jt=(()=>{class e{router=S(P);#e=S(he);errorResponse=this.#e.selectors.errorResponse;isAuthenticated=this.#e.selectors.isAuthenticated;isOverMode=this.#e.selectors.isOverMode;isLoading=M(!1);passwordVisible=!1;MinUserNameLength=2;MaxUserNameLength=100;MinEmailLength=3;MaxEmailLength=50;MinPasswordLength=16;MaxPasswordLength=32;pageHeaderInfo={title:"Registration Form Example",breadcrumb:["Examples","Registration"],desc:`
      This is an example of using form controls. It shows interactions with the server app written in .NET Core 9.
      The server data is in JSON format and served dynamically via API controllers.
      In the web browser, there is an Angular 19 app which intercepts and shows the data.
      In addition, it shows rate limiting implementation using AspNetCoreRateLimit.
      `};confirmValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0};if(t.value!==this.registerForm.controls.password.value)return{error:!0,confirm:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};nameValidator=t=>{if(t.value){if(t.value.length<2)return{error:!0,min:!0};if(t.value.length>100)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};emailValidator=t=>{if(t.value){if(t.value.length<3)return{error:!0,min:!0};if(t.value.length>50)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};registerForm=new j({email:new E("",{nonNullable:!0,validators:[J.email,this.emailValidator]}),password:new E("",{nonNullable:!0,validators:[this.passwordValidator]}),confirm:new E("",{nonNullable:!0,validators:[this.confirmValidator]}),username:new E("",{nonNullable:!0,validators:[this.nameValidator]})});get newPassword(){return this.registerForm.controls.password.value}register(){this.isLoading()||(this.isLoading.set(!0),this.#e.register({loading:this.isLoading,form:this.registerForm}))}resetForm(){this.registerForm.reset(),this.registerForm.controls.email.markAsPristine(),this.registerForm.controls.email.updateValueAndValidity(),this.registerForm.controls.username.markAsPristine(),this.registerForm.controls.username.updateValueAndValidity(),this.registerForm.controls.password.markAsPristine(),this.registerForm.controls.password.updateValueAndValidity(),this.registerForm.controls.confirm.markAsPristine(),this.registerForm.controls.confirm.updateValueAndValidity()}clickLink(){this.router.navigate(["home","sign-in"])}validateConfirmPassword(){Promise.resolve().then(()=>this.registerForm.controls.confirm.updateValueAndValidity())}ngOnDestroy(){this.#e.resetErrorResponse()}static \u0275fac=function(c){return new(c||e)};static \u0275cmp=b({type:e,selectors:[["app-register"]],decls:5,vars:4,consts:[["userErrorTpl",""],["emailErrorTpl",""],["passwordErrorTpl",""],["confirmErrorTpl",""],["applyTpl",""],["closeTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[3,"nzBodyStyle"],["nz-row","","nzJustify","center"],["nz-col",""],["nz-typography","","nzType","danger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-col","","nzXs","24","nzSm","24","nzMd","18","nzLg","18","nzXl","18","nzXXl","12"],["nz-form","",3,"formGroup"],["nzFor","username","nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","username","id","username","autocomplete","off","placeholder","Enter your username"],["nzFor","email","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","email","id","email","autocomplete","off","placeholder","Enter your email","type","email"],["nzFor","password","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","password","id","password","autocomplete","off","placeholder","Enter your password",3,"ngModelChange"],["nzInputPasswordIcon",""],[3,"password"],["nzFor","confirm","nzRequired","",3,"nzSpan"],["nz-input","","type","password","formControlName","confirm","id","confirm","placeholder","Confirm your password"],[3,"nzOffset"],[3,"errorResponse"],["nz-typography","","nzType","success"],["nz-typography","","nzType","warning"],["nzType","info-circle","nz-tooltip","","nzTooltipTitle","This feature is not implemented yet."],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","arrow-right"],["nzType","eye","nzTheme","twotone"],["nzType","eye-invisible","nzTheme","outline"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzLoading","nzIcon","disabled"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(c,_){c&1&&(d(0,"app-page-header",6),a(1,"div",7)(2,"nz-card",8),l(3,Ne,4,0,"div",9)(4,mt,54,16),i()()),c&2&&(s("pageHeaderInfo",_.pageHeaderInfo),o(2),s("nzBodyStyle",F(3,Re)),o(),m(_.isAuthenticated()?3:4))},dependencies:[xe,ee,K,X,W,Y,Q,Z,se,A,D,L,V,I,ge,G,H,_e,de,fe,ue,me,re,ie,oe,te,ne,ce,pe,U,k,O,q,ze,Ce,le,ae,B,$,Te],encapsulation:2,changeDetection:0})}return e})();export{jt as default};
