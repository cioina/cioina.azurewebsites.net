import{a as he}from"./chunk-2UFOOSNL.js";import{a as ze}from"./chunk-D2QJD6PM.js";import{A as le,F as me,J as xe}from"./chunk-5ZNC6SRA.js";import"./chunk-AN4WQHQS.js";import{h as ce,i as de,j as _e,k as ue,l as fe,m as ge,n as Ce}from"./chunk-I2TSC4Y4.js";import{a as U,b as H,i as B,k as X,l as oe,m as ae}from"./chunk-EYKXQAQZ.js";import{a as k,b as O,c as q,e as G}from"./chunk-HLWTKEP7.js";import"./chunk-3I7NOWJ2.js";import{ca as se,da as pe,l as F}from"./chunk-IDAPXTSL.js";import"./chunk-7ETIJ5FI.js";import"./chunk-Q3PG4OCM.js";import{B as j,C as y,E as K,G as Q,H as Z,L as ee,M as te,N as ne,O as ie,P as re,d as I,e as D,f as A,v as $,w as J,y as W,z as Y}from"./chunk-IW7H4CRV.js";import{ua as P,wa as L}from"./chunk-KPQYH44D.js";import"./chunk-3HJCPAY6.js";import"./chunk-5IWMTNFE.js";import{Bc as x,Db as _,Fa as b,Gc as a,Ic as C,Uc as V,Vb as s,Xb as p,ac as l,bc as o,cc as i,cd as z,dc as u,hc as f,ic as g,kc as v,lb as r,ma as S,pc as w,rc as m,va as h,wa as T,xb as M}from"./chunk-WTQVSPW6.js";import"./chunk-3XFQOAE3.js";var Re=()=>({overflow:"auto",display:"block",width:"100%"});function Ne(e,n){e&1&&(o(0,"div",10)(1,"div",11)(2,"h3",12),a(3,"Already Authenticated"),i()()())}function be(e,n){e&1&&(f(0),o(1,"h3",30),a(2,"Register an account"),i(),g())}function Me(e,n){e&1&&(f(0),o(1,"h5",31),u(2,"nz-icon",32),i(),g())}function Ve(e,n){e&1&&(f(0),o(1,"h5",31),a(2,"Already have an account?"),i(),g())}function Fe(e,n){if(e&1){let t=v();f(0),o(1,"a",33),w("click",function(){h(t);let c=m(2);return T(c.clickLink())}),a(2,"Sign In"),u(3,"span",34),i(),g()}}function Pe(e,n){e&1&&a(0," Please input your username. ")}function Le(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The username must be at least ",t.MinUserNameLength," characters long. ")}}function Ie(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The username must be at most ",t.MaxUserNameLength," characters long. ")}}function De(e,n){if(e&1&&(s(0,Pe,1,0),s(1,Le,1,1),s(2,Ie,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Ae(e,n){e&1&&a(0," The input is not a valid email. ")}function ke(e,n){e&1&&a(0," Please input your email. ")}function Oe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The email must be at least ",t.MinEmailLength," characters long. ")}}function qe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The email must be at most ",t.MaxEmailLength," characters long. ")}}function Ge(e,n){if(e&1&&(s(0,Ae,1,0),s(1,ke,1,0),s(2,Oe,1,1),s(3,qe,1,1)),e&2){let t=n.$implicit;p(t.hasError("email")?0:-1),r(),p(t.hasError("required")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function Ue(e,n){if(e&1){let t=v();o(0,"span",35),w("click",function(){h(t);let c=m(2);return T(c.passwordVisible=!c.passwordVisible)}),i()}if(e&2){let t=m(2);l("nzType",t.passwordVisible?"eye":"eye-invisible")}}function He(e,n){e&1&&a(0," Please enter your password. ")}function Be(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function Xe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function $e(e,n){if(e&1&&(s(0,He,1,0),s(1,Be,1,1),s(2,Xe,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Je(e,n){e&1&&a(0," Please confirm your password. ")}function We(e,n){e&1&&a(0," The confirm password is inconsistent with password. ")}function Ye(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function je(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Ke(e,n){if(e&1&&(s(0,Je,1,0),s(1,We,1,0),s(2,Ye,1,1),s(3,je,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("confirm")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function Qe(e,n){if(e&1){let t=v();f(0),o(1,"button",36),w("nzOnConfirm",function(){h(t);let c=m(2);return T(c.register())}),a(2," Submit "),i(),g()}if(e&2){m();let t=x(51),d=m();r(),l("nzLoading",d.isLoading())("nzIcon",t)("disabled",!d.registerForm.valid)}}function Ze(e,n){if(e&1){let t=v();f(0),o(1,"button",37),w("nzOnConfirm",function(){h(t);let c=m(2);return T(c.resetForm())}),a(2," Reset "),i(),g()}if(e&2){m();let t=x(53);r(),l("nzIcon",t)("nzOkDanger",!0)}}function et(e,n){e&1&&(f(0),o(1,"h4",30),u(2,"nz-icon",38),i(),g())}function tt(e,n){e&1&&(f(0),o(1,"h5",39),a(2,"Do you want to submit form?"),i(),g())}function nt(e,n){e&1&&(o(0,"nz-space",13),_(1,et,3,0,"ng-container",14)(2,tt,3,0,"ng-container",14),i())}function it(e,n){e&1&&(f(0),o(1,"h4",12),u(2,"nz-icon",38),i(),g())}function rt(e,n){e&1&&(f(0),o(1,"h5",39),a(2,"Do you want to reset form?"),i(),g())}function ot(e,n){e&1&&(o(0,"nz-space",13),_(1,it,3,0,"ng-container",14)(2,rt,3,0,"ng-container",14),i())}function at(e,n){if(e&1){let t=v();o(0,"div",10)(1,"div",11)(2,"nz-space",13),_(3,be,3,0,"ng-container",14)(4,Me,3,0,"ng-container",14),i()()(),o(5,"div",10)(6,"div",11)(7,"nz-space",13),_(8,Ve,3,0,"ng-container",14)(9,Fe,4,0,"ng-container",14),i()()(),o(10,"div",10)(11,"div",15)(12,"form",16)(13,"nz-form-item")(14,"nz-form-label",17),a(15,"Username"),i(),o(16,"nz-form-control",18),u(17,"input",19),_(18,De,3,3,"ng-template",null,0,z),i()(),o(20,"nz-form-item")(21,"nz-form-label",20),a(22,"Email"),i(),o(23,"nz-form-control",18),u(24,"input",21),_(25,Ge,4,4,"ng-template",null,1,z),i()(),o(27,"nz-form-item")(28,"nz-form-label",22),a(29,"Password"),i(),o(30,"nz-form-control",18)(31,"nz-input-group",23)(32,"input",24),w("ngModelChange",function(){h(t);let c=m();return T(c.validateConfirmPassword())}),i()(),u(33,"password-strength-meter",25),_(34,Ue,1,1,"ng-template",null,2,z),i(),_(36,$e,3,3,"ng-template",null,3,z),i(),o(38,"nz-form-item")(39,"nz-form-label",26),a(40,"Confirm Password"),i(),o(41,"nz-form-control",18),u(42,"input",27),_(43,Ke,4,4,"ng-template",null,4,z),i()(),o(45,"nz-form-item")(46,"nz-form-control",28)(47,"nz-space",13),_(48,Qe,3,3,"ng-container",14)(49,Ze,3,2,"ng-container",14),i()(),_(50,nt,3,0,"ng-template",null,5,z)(52,ot,3,0,"ng-template",null,6,z),i()(),u(54,"app-form-errors",29),i()()}if(e&2){let t=x(19),d=x(26),c=x(35),ye=x(37),Se=x(44),E=m();r(12),l("formGroup",E.registerForm),r(2),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",t),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",d),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",ye),r(),l("nzSuffix",c),r(),l("type",E.passwordVisible?"text":"password"),r(),l("password",E.newPassword),r(6),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",Se),r(5),l("nzOffset",E.isOverMode()?0:12),r(8),l("errorResponse",E.errorResponse)}}var Jt=(()=>{class e{router=S(F);#e=S(xe);errorResponse=this.#e.selectors.errorResponse;isAuthenticated=this.#e.selectors.isAuthenticated;isOverMode=this.#e.selectors.isOverMode;isLoading=b(!1);passwordVisible=!1;MinUserNameLength=2;MaxUserNameLength=100;MinEmailLength=3;MaxEmailLength=50;MinPasswordLength=16;MaxPasswordLength=32;pageHeaderInfo={title:"Registration Form Example",breadcrumb:["Examples","Registration"],desc:`
      This is an example of using form controls. It shows interactions with the server app written in .NET Core 9.
      The server data is in JSON format and served dynamically via API controllers.
      In the web browser, there is an Angular 19 app which intercepts and shows the data.
      In addition, it shows rate limiting implementation using AspNetCoreRateLimit.
      `};confirmValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0};if(t.value!==this.registerForm.controls.password.value)return{error:!0,confirm:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};nameValidator=t=>{if(t.value){if(t.value.length<2)return{error:!0,min:!0};if(t.value.length>100)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};emailValidator=t=>{if(t.value){if(t.value.length<3)return{error:!0,min:!0};if(t.value.length>50)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};registerForm=new j({email:new y("",{nonNullable:!0,validators:[J.email,this.emailValidator]}),password:new y("",{nonNullable:!0,validators:[this.passwordValidator]}),confirm:new y("",{nonNullable:!0,validators:[this.confirmValidator]}),username:new y("",{nonNullable:!0,validators:[this.nameValidator]})});get newPassword(){return this.registerForm.controls.password.value}register(){this.isLoading()||(this.isLoading.set(!0),this.#e.register({loading:this.isLoading,form:this.registerForm}))}resetForm(){this.registerForm.reset(),this.registerForm.controls.email.markAsPristine(),this.registerForm.controls.email.updateValueAndValidity(),this.registerForm.controls.username.markAsPristine(),this.registerForm.controls.username.updateValueAndValidity(),this.registerForm.controls.password.markAsPristine(),this.registerForm.controls.password.updateValueAndValidity(),this.registerForm.controls.confirm.markAsPristine(),this.registerForm.controls.confirm.updateValueAndValidity()}clickLink(){this.router.navigate(["home","sign-in"])}validateConfirmPassword(){Promise.resolve().then(()=>this.registerForm.controls.confirm.updateValueAndValidity())}ngOnDestroy(){this.#e.resetErrorResponse()}static \u0275fac=function(d){return new(d||e)};static \u0275cmp=M({type:e,selectors:[["app-register"]],decls:5,vars:4,consts:[["userErrorTpl",""],["emailErrorTpl",""],["suffixTemplate",""],["passwordErrorTpl",""],["confirmErrorTpl",""],["applyTpl",""],["closeTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[3,"nzBodyStyle"],["nz-row","","nzJustify","center"],["nz-col",""],["nz-typography","","nzType","danger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-col","","nzXs","24","nzSm","24","nzMd","18","nzLg","18","nzXl","18","nzXXl","12"],["nz-form","",3,"formGroup"],["nzFor","username","nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","username","id","username","autocomplete","off","placeholder","Enter your username"],["nzFor","email","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","email","id","email","autocomplete","off","placeholder","Enter your email","type","email"],["nzFor","password","nzRequired","",3,"nzSpan"],[3,"nzSuffix"],["nz-input","","formControlName","password","id","password","autocomplete","off","placeholder","Enter your password",3,"ngModelChange","type"],[3,"password"],["nzFor","confirm","nzRequired","",3,"nzSpan"],["nz-input","","type","password","formControlName","confirm","id","confirm","placeholder","Confirm your password"],[3,"nzOffset"],[3,"errorResponse"],["nz-typography","","nzType","success"],["nz-typography","","nzType","warning"],["nzType","info-circle","nz-tooltip","","nzTooltipTitle","This feature is not implemented yet."],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","arrow-right"],["nz-icon","",3,"click","nzType"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzLoading","nzIcon","disabled"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(d,c){d&1&&(u(0,"app-page-header",7),o(1,"div",8)(2,"nz-card",9),s(3,Ne,4,0,"div",10)(4,at,55,18),i()()),d&2&&(l("pageHeaderInfo",c.pageHeaderInfo),r(2),l("nzBodyStyle",V(3,Re)),r(),p(c.isAuthenticated()?3:4))},dependencies:[ze,ee,K,$,W,Y,Q,Z,me,A,D,I,L,P,fe,H,U,de,ce,ue,_e,le,re,te,ie,ne,pe,se,G,k,O,q,Ce,ge,ae,oe,X,B,he],encapsulation:2,changeDetection:0})}return e})();export{Jt as default};
