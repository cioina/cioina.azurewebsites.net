import{Ea as L,Ta as m,sb as X,ub as Z}from"./chunk-ZDOW6TZS.js";import{$b as V,Bc as B,Cc as H,Da as y,Ga as A,Ha as N,Hb as D,Ib as w,Nb as b,Pa as I,Tb as j,Ua as E,Ub as u,Vb as O,Wb as F,ad as J,eb as M,ec as d,ed as U,fc as S,gc as k,kc as P,nc as R,oa as x,pc as l,q as h,r as o,sb as T,ta as f,vb as G,vc as Q,wc as W,xc as q}from"./chunk-V5X6HHEX.js";var Y=["textEl"];function tt(n,r){if(n&1&&k(0,"nz-icon",1),n&2){let a=l();u("nzType",a.nzIcon)}}function et(n,r){if(n&1){let a=P();d(0,"img",4),R("error",function(z){A(a);let p=l();return N(p.imgError(z))}),S()}if(n&2){let a=l();u("src",a.nzSrc,T),j("srcset",a.nzSrcSet)("alt",a.nzAlt)}}function nt(n,r){if(n&1&&(d(0,"span",3,0),B(2),S()),n&2){let a=l();G(2),H(a.nzText)}}var it="avatar",dt=(()=>{let n,r=[],a=[],s,z=[],p=[],g,_=[],C=[];return class v{static{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[m()],s=[m()],g=[m()],h(null,null,n,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:e=>"nzShape"in e,get:e=>e.nzShape,set:(e,t)=>{e.nzShape=t}},metadata:i},r,a),h(null,null,s,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,t)=>{e.nzSize=t}},metadata:i},z,p),h(null,null,g,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:e=>"nzGap"in e,get:e=>e.nzGap,set:(e,t)=>{e.nzGap=t}},metadata:i},_,C),i&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}constructor(){this._nzModuleName=it,this.nzShape=o(this,r,"circle"),this.nzSize=(o(this,a),o(this,z,"default")),this.nzGap=(o(this,p),o(this,_,4)),this.nzText=o(this,C),this.nzError=new I,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.customSize=null,this.el=f(E).nativeElement,this.cdr=f(J),M(()=>this.calcStringSize())}imgError(i){this.nzError.emit(i),i.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let i=this.textEl.nativeElement,e=i.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,c=this.nzGap*2<t?this.nzGap*2:8,$=t-c<e?(t-c)/e:1;i.style.transform=`scale(${$}) translateX(-50%)`,i.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=L(this.nzSize):this.customSize=null,this.cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||v)}}static{this.\u0275cmp=D({type:v,selectors:[["nz-avatar"]],viewQuery:function(e,t){if(e&1&&Q(Y,5),e&2){let c;W(c=q())&&(t.textEl=c.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,t){e&2&&(O("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),F("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",U],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[y],decls:3,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(e,t){e&1&&b(0,tt,1,1,"nz-icon",1)(1,et,1,3,"img",2)(2,nt,3,1,"span",3),e&2&&V(t.nzIcon&&t.hasIcon?0:t.nzSrc&&t.hasSrc?1:t.nzText&&t.hasText?2:-1)},dependencies:[Z,X],encapsulation:2,changeDetection:0})}}})();var At=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=w({type:n})}static{this.\u0275inj=x({})}}return n})();export{dt as a,At as b};
