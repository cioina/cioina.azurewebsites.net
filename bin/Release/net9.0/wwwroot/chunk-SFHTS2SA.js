import{a as Xe}from"./chunk-N6VMRPRI.js";import{a as Ce,b as _e}from"./chunk-CYPEJDOO.js";import{b as ie}from"./chunk-DXBLGZ7P.js";import"./chunk-OP7BN7RJ.js";import{a as je,b as qe}from"./chunk-L2TS3JQ2.js";import{a as ve}from"./chunk-4IAE5D4I.js";import{a as we}from"./chunk-IHBJALLH.js";import{a as Ae,b as Be,c as Ge}from"./chunk-Z46YZWOW.js";import{a as Oe}from"./chunk-AGQY7SW5.js";import"./chunk-HFFOHZKO.js";import{a as Ie,b as Ve,h as ee,i as te,j as re,k as oe,l as ne,m as he,n as ge}from"./chunk-PWBFDFV6.js";import{a as L,b as R,c as W,l as Q,m as Z}from"./chunk-QWAMMNSN.js";import{a as x,b as N,c as D,d as de,e as M}from"./chunk-7ZP5E5Q4.js";import"./chunk-GW63DI2J.js";import{ga as Re,ha as We,i as Ee,l as ke}from"./chunk-FBFM442M.js";import"./chunk-TFT36LRQ.js";import"./chunk-DOM7534T.js";import{A as O,B as j,D as ue,E as q,G as X,I as $,J as H,L as Le,M as ze,N as U,O as J,R as Y,S as K,d as le,e as pe,f as ce,h as fe,i as A,x as B,y as G}from"./chunk-SYGSFLWD.js";import{xa as I,za as V}from"./chunk-LYUHKZY5.js";import{a as xe}from"./chunk-HIFH5C55.js";import{Ab as v,Cc as y,Da as Pe,Eb as me,Gb as h,Hc as n,Ic as Se,Jc as w,Pa as ae,Vc as Fe,Wb as c,Yb as d,bc as s,cc as a,dc as m,dd as S,ec as f,h as Te,ic as E,jc as k,ka as _,lc as se,nb as r,pa as p,qc as z,s as C,sc as g,sd as be,ya as F,za as b}from"./chunk-LLZZ4NMO.js";import"./chunk-3XFQOAE3.js";function ut(e,l){e&1&&n(0," The input is not a valid email. ")}function zt(e,l){e&1&&n(0," Please enter your email ")}function ht(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The email must be at least ",t.params.MinEmailLength," characters long. ")}}function gt(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The email must be at most ",t.params.MaxEmailLength," characters long. ")}}function wt(e,l){if(e&1&&(c(0,ut,1,0),c(1,zt,1,0),c(2,ht,1,1),c(3,gt,1,1)),e&2){let t=l.$implicit;d(t.hasError("email")?0:-1),r(),d(t.hasError("required")?1:-1),r(),d(t.hasError("min")?2:-1),r(),d(t.hasError("max")?3:-1)}}function Ct(e,l){e&1&&n(0," Please enter your password ")}function _t(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The password must be at least ",t.params.MinPasswordLength," characters long. ")}}function vt(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The password must be at most ",t.params.MaxPasswordLength," characters long. ")}}function yt(e,l){if(e&1&&(c(0,Ct,1,0),c(1,_t,1,1),c(2,vt,1,1)),e&2){let t=l.$implicit;d(t.hasError("required")?0:-1),r(),d(t.hasError("min")?1:-1),r(),d(t.hasError("max")?2:-1)}}function St(e,l){e&1&&(E(0),a(1,"h4",17),f(2,"nz-icon",18),m(),k())}function xt(e,l){e&1&&(E(0),a(1,"h5",19),n(2,"Do you want to reset form?"),m(),k())}function Nt(e,l){e&1&&(a(0,"nz-space",15),h(1,St,3,0,"ng-container",16)(2,xt,3,0,"ng-container",16),m())}var nt=(()=>{class e{params={MinEmailLength:1,MaxEmailLength:1,MinPasswordLength:1,MaxPasswordLength:1,email:""};passwordVisible=!1;emailValidator=t=>{if(t.value){if(t.value.length<this.params.MinEmailLength)return{error:!0,min:!0};if(t.value.length>this.params.MaxEmailLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<this.params.MinPasswordLength)return{error:!0,min:!0};if(t.value.length>this.params.MaxPasswordLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};validateForm=new ue({email:new q("",{nonNullable:!0,validators:[G.email,this.emailValidator]}),password:new q("",{nonNullable:!0,validators:[this.passwordValidator]})});get newPassword(){return this.validateForm.controls.password.value}resetForm(){this.validateForm.reset(),this.validateForm.controls.email.markAsPristine(),this.validateForm.controls.email.updateValueAndValidity(),this.validateForm.controls.password.markAsPristine(),this.validateForm.controls.password.updateValueAndValidity()}ngOnInit(){this.validateForm.patchValue({email:this.params.email})}getCurrentValue(){return ie(this.validateForm)?C(this.validateForm.value):C(!1)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-ex-drawer-drawer"]],decls:27,vars:12,consts:[["userErrorTpl",""],["passwordErrorTpl",""],["closeTpl",""],["nz-row","","nzJustify","center"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24","nzXl","24","nzXXl","24"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],[3,"nzSpan","nzErrorTip"],["nzInputPrefix","","nzType","user"],["nz-input","","formControlName","email","placeholder","Please enter you email"],["nzInputPrefix","","nzType","lock"],["nz-input","","formControlName","password","placeholder","Please enter you password",3,"type"],["nzInputSuffix","",3,"click","nzType"],[3,"password"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-typography","","nzType","danger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(o,i){if(o&1){let u=se();a(0,"div",3)(1,"div",4)(2,"form",5)(3,"nz-form-item")(4,"nz-form-label",6),n(5,"Email"),m(),a(6,"nz-form-control",7)(7,"nz-input-wrapper"),f(8,"nz-icon",8)(9,"input",9),m(),h(10,wt,4,4,"ng-template",null,0,S),m()(),a(12,"nz-form-item")(13,"nz-form-label",6),n(14,"Password"),m(),a(15,"nz-form-control",7)(16,"nz-input-wrapper"),f(17,"nz-icon",10)(18,"input",11),a(19,"nz-icon",12),z("click",function(){return F(u),b(i.passwordVisible=!i.passwordVisible)}),m()(),f(20,"password-strength-meter",13),h(21,yt,3,3,"ng-template",null,1,S),a(23,"button",14),z("nzOnConfirm",function(){return F(u),b(i.resetForm())}),n(24," Reset "),m()(),h(25,Nt,3,0,"ng-template",null,2,S),m()()()()}if(o&2){let u=y(11),T=y(22),ye=y(26);r(2),s("formGroup",i.validateForm),r(2),s("nzSpan",7),r(2),s("nzSpan",24)("nzErrorTip",u),r(7),s("nzSpan",7),r(2),s("nzSpan",24)("nzErrorTip",T),r(3),s("type",i.passwordVisible?"text":"password"),r(),s("nzType",i.passwordVisible?"eye":"eye-invisible"),r(),s("password",i.newPassword),r(3),s("nzIcon",ye)("nzOkDanger",!0)}},dependencies:[U,X,B,O,j,$,H,M,x,N,D,ge,he,W,R,L,ne,te,ee,oe,re,V,I,K,J,Y,fe,A,ce,pe,le,Z,Q,ve],encapsulation:2,changeDetection:0})}return e})();var it=(()=>{class e{drawerWrapService=p(Xe);getContentComponent(){return nt}show(t={},o){return this.drawerWrapService.show(this.getContentComponent(),t,o)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Dt(e,l){e&1&&n(0," The input is not a valid email. ")}function Mt(e,l){e&1&&n(0," Please enter your email ")}function Tt(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The email must be at least ",t.config.nzData.MinEmailLength," characters long. ")}}function Pt(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The email must be at most ",t.config.nzData.MaxEmailLength," characters long. ")}}function Ft(e,l){if(e&1&&(c(0,Dt,1,0),c(1,Mt,1,0),c(2,Tt,1,1),c(3,Pt,1,1)),e&2){let t=l.$implicit;d(t.hasError("email")?0:-1),r(),d(t.hasError("required")?1:-1),r(),d(t.hasError("min")?2:-1),r(),d(t.hasError("max")?3:-1)}}function bt(e,l){e&1&&n(0," Please enter your password ")}function Et(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The password must be at least ",t.config.nzData.MinPasswordLength," characters long. ")}}function kt(e,l){if(e&1&&n(0),e&2){let t=g(2);w(" The password must be at most ",t.config.nzData.MaxPasswordLength," characters long. ")}}function It(e,l){if(e&1&&(c(0,bt,1,0),c(1,Et,1,1),c(2,kt,1,1)),e&2){let t=l.$implicit;d(t.hasError("required")?0:-1),r(),d(t.hasError("min")?1:-1),r(),d(t.hasError("max")?2:-1)}}function Vt(e,l){e&1&&(E(0),a(1,"h4",17),f(2,"nz-icon",18),m(),k())}function Lt(e,l){e&1&&(E(0),a(1,"h5",19),n(2,"Do you want to reset form?"),m(),k())}function Rt(e,l){e&1&&(a(0,"nz-space",15),h(1,Vt,3,0,"ng-container",16)(2,Lt,3,0,"ng-container",16),m())}var at=(()=>{class e extends Ce{modalRef=p(we);getCurrentValue(){return ie(this.validateForm)?C(this.validateForm.value):C(!1)}config=this.modalRef.getConfig();passwordVisible=!1;emailValidator=t=>{if(t.value){if(t.value.length<this.config.nzData.MinEmailLength)return{error:!0,min:!0};if(t.value.length>this.config.nzData.MaxEmailLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<this.config.nzData.MinPasswordLength)return{error:!0,min:!0};if(t.value.length>this.config.nzData.MaxPasswordLength)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};validateForm=new ue({email:new q("",{nonNullable:!0,validators:[G.email,this.emailValidator]}),password:new q("",{nonNullable:!0,validators:[this.passwordValidator]})});get newPassword(){return this.validateForm.controls.password.value}resetForm(){this.validateForm.reset(),this.validateForm.controls.email.markAsPristine(),this.validateForm.controls.email.updateValueAndValidity(),this.validateForm.controls.password.markAsPristine(),this.validateForm.controls.password.updateValueAndValidity()}ngOnInit(){this.validateForm.patchValue({email:this.config.nzData.email})}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ae(e)))(i||e)}})();static \u0275cmp=v({type:e,selectors:[["app-change-password"]],features:[me],decls:27,vars:12,consts:[["userErrorTpl",""],["passwordErrorTpl",""],["closeTpl",""],["nz-row","","nzJustify","center"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24","nzXl","24","nzXXl","24"],["nz-form","",1,"m-t-30","full-with","p-l-25","p-r-24","m-b-20",3,"formGroup"],["nzRequired","",3,"nzSpan"],[3,"nzSpan","nzErrorTip"],["nzInputPrefix","","nzType","user"],["nz-input","","formControlName","email","placeholder","Please enter you email"],["nzInputPrefix","","nzType","lock"],["nz-input","","formControlName","password","placeholder","Please enter you password",3,"type"],["nzInputSuffix","",3,"click","nzType"],[3,"password"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-typography","","nzType","danger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(o,i){if(o&1){let u=se();a(0,"div",3)(1,"div",4)(2,"form",5)(3,"nz-form-item")(4,"nz-form-label",6),n(5,"Email"),m(),a(6,"nz-form-control",7)(7,"nz-input-wrapper"),f(8,"nz-icon",8)(9,"input",9),m(),h(10,Ft,4,4,"ng-template",null,0,S),m()(),a(12,"nz-form-item")(13,"nz-form-label",6),n(14,"Password"),m(),a(15,"nz-form-control",7)(16,"nz-input-wrapper"),f(17,"nz-icon",10)(18,"input",11),a(19,"nz-icon",12),z("click",function(){return F(u),b(i.passwordVisible=!i.passwordVisible)}),m()(),f(20,"password-strength-meter",13),h(21,It,3,3,"ng-template",null,1,S),a(23,"button",14),z("nzOnConfirm",function(){return F(u),b(i.resetForm())}),n(24," Reset "),m()(),h(25,Rt,3,0,"ng-template",null,2,S),m()()()()}if(o&2){let u=y(11),T=y(22),ye=y(26);r(2),s("formGroup",i.validateForm),r(2),s("nzSpan",7),r(2),s("nzSpan",24)("nzErrorTip",u),r(7),s("nzSpan",7),r(2),s("nzSpan",24)("nzErrorTip",T),r(3),s("type",i.passwordVisible?"text":"password"),r(),s("nzType",i.passwordVisible?"eye":"eye-invisible"),r(),s("password",i.newPassword),r(3),s("nzIcon",ye)("nzOkDanger",!0)}},dependencies:[U,X,B,O,j,$,H,M,x,N,D,ge,he,W,R,L,ne,te,ee,oe,re,V,I,K,J,Y,fe,A,ce,pe,le,Z,Q,ve],encapsulation:2,changeDetection:0})}return e})();var mt=(()=>{class e{modalWrapService=p(_e);getContentComponent(){return at}show(t={},o){return this.modalWrapService.show(this.getContentComponent(),t,o)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var st=(()=>{class e{lockScreenStore$=new Te({locked:!1,password:"",beforeLockPath:""});setLockScreenStore(t){this.lockScreenStore$.next(t)}getLockScreenStore(){return this.lockScreenStore$.asObservable()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lt=(()=>{class e extends Ce{fb=p(Le);lockScreenStoreService=p(st);activatedRoute=p(Ee);router=p(ke);modalRef=p(we);validateForm=this.fb.group({password:["",[G.required]]});passwordVisible=!1;submitForm(){if(!ie(this.validateForm))return;let t={locked:!0,password:this.validateForm.value.password,beforeLockPath:this.activatedRoute.snapshot._routerState.url};this.lockScreenStoreService.setLockScreenStore(t),this.modalRef.destroy(),this.router.navigateByUrl("/nowhere/empty-for-lock")}getCurrentValue(){return C(!0)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ae(e)))(i||e)}})();static \u0275cmp=v({type:e,selectors:[["app-lock-widget"]],features:[me],decls:14,vars:7,consts:[[1,"flex","center","flex-coloum"],[3,"nzSize","nzSrc"],[1,"sp-16","m-t-8"],["autocomplete","off","nz-form","",1,"m-t-30","full-with","p-l-25","p-r-24","m-b-20",3,"formGroup","nzLayout"],["nzRequired",""],["nzErrorTip","Please enter the lock screen password"],["name","password","autocomplete","off","formControlName","password","nz-input","","placeholder","Please enter",3,"type"],["nzInputSuffix","",3,"click","nzType"],["nz-button","","nzSize","large",1,"login-form-button","full-with",3,"click","nzType"]],template:function(o,i){o&1&&(a(0,"div",0),f(1,"nz-avatar",1),a(2,"p",2),n(3,"Username"),m(),a(4,"form",3)(5,"nz-form-item")(6,"nz-form-label",4),n(7,"Lock screen password"),m(),a(8,"nz-form-control",5)(9,"nz-input-wrapper"),f(10,"input",6),a(11,"nz-icon",7),z("click",function(){return i.passwordVisible=!i.passwordVisible}),m()()()(),a(12,"button",8),z("click",function(){return i.submitForm()}),n(13," Lock "),m()()()),o&2&&(r(),s("nzSize",70)("nzSrc","assets/imgs/default_face.png"),r(3),s("formGroup",i.validateForm)("nzLayout","vertical"),r(6),s("type",i.passwordVisible?"text":"password"),r(),s("nzType",i.passwordVisible?"eye":"eye-invisible"),r(),s("nzType","primary"))},dependencies:[Ve,Ie,ze,X,B,O,j,ne,R,L,te,ee,oe,re,U,$,H,W,M,x,N,D,K,J,Y,A,V,I,de],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}return e})();var pt=(()=>{class e{modalWrapService=p(_e);getContentComponent(){return lt}show(t={},o){return this.modalWrapService.show(this.getContentComponent(),t,o)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Wt=()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}),wo=(()=>{class e{destroyRef=p(Pe);drawerService=p(it);cdr=p(be);changePasswordModalService=p(mt);lockWidgetService=p(pt);pageHeaderInfo={title:"Drawer/Modal Form Example",breadcrumb:["Examples","Change password"],desc:`
    This is an example of using drawer/modal with form controls. It shows how to transfer data to a custom drawer/modal service (DrawerWrapService/ModalWrapService) and back.
    `};email="";password="";showDrawer(){this.password="",this.drawerService.show({nzTitle:"Change Password"},{MinEmailLength:3,MaxEmailLength:20,MinPasswordLength:6,MaxPasswordLength:16,email:this.email}).pipe(xe(this.destroyRef)).subscribe(({modalValue:t,status:o})=>{o!==0&&(this.email=t.email,this.password=t.password,this.cdr.markForCheck())})}showModal(){this.changePasswordModalService.show({nzTitle:"Change Password"},{MinEmailLength:3,MaxEmailLength:20,MinPasswordLength:6,MaxPasswordLength:16,email:this.email}).pipe(xe(this.destroyRef)).subscribe(({modalValue:t,status:o})=>{o!==0&&(this.email=t.email,this.password=t.password,this.cdr.markForCheck())})}lockScreen(){this.lockWidgetService.show({nzTitle:"Lock screen",nzStyle:{top:"25px"},nzWidth:"520px",nzFooter:null,nzMaskClosable:!0}).subscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-ex-drawer"]],decls:18,vars:9,consts:[[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[1,"m-b-20",3,"nzBordered"],["nzBordered","","nzTitle","Login information",3,"nzColumn","nzSize"],["nzTitle","Email"],[3,"nzColor"],["nz-typography","","nzType","success"],["nzTitle","Password"],["nz-button","",3,"click"]],template:function(o,i){o&1&&(f(0,"app-page-header",0),a(1,"div",1)(2,"nz-card",2)(3,"nz-descriptions",3)(4,"nz-descriptions-item",4)(5,"nz-tag",5)(6,"h3",6),n(7),m()()(),a(8,"nz-descriptions-item",7)(9,"nz-tag",5)(10,"h3",6),n(11),m()()()()(),a(12,"button",8),z("click",function(){return i.showDrawer()}),n(13," Show Drawer"),m(),a(14,"button",8),z("click",function(){return i.showModal()}),n(15,"Show Modal"),m(),a(16,"button",8),z("click",function(){return i.lockScreen()}),n(17,"Screen Lock Modal"),m()()),o&2&&(s("pageHeaderInfo",i.pageHeaderInfo),r(2),s("nzBordered",!0),r(),s("nzColumn",Fe(8,Wt))("nzSize","small"),r(2),s("nzColor","cyan"),r(2),Se(i.email),r(2),s("nzColor","cyan"),r(2),Se(i.password))},dependencies:[Oe,ze,M,x,N,D,de,We,Re,Ge,Be,Ae,qe,je,Z,Q],encapsulation:2,changeDetection:0})}return e})();export{wo as DrawerFormComponent};
