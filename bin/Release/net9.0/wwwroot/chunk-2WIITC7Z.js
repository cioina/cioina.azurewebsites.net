import{a as ft,b as ut}from"./chunk-VIUSHIUU.js";import{A as B,F as tt,G as lt,H as st,I as mt,J as Z,d as ye,e as be,f as V,i as Ve,z as Qe}from"./chunk-HLPLMXCH.js";import"./chunk-NIQ32PZB.js";import{a as gt}from"./chunk-Z7JQAWX7.js";import{a as ct,b as dt}from"./chunk-CI5GTGWX.js";import{a as pt}from"./chunk-WVL4DOL4.js";import{a as _t}from"./chunk-MICY4TRS.js";import{b as Me,d as Ne,e as De,f as nt,g as it,h as ot,i as rt,j as at,k as $,l as K}from"./chunk-GDY42P5U.js";import{A as We,B as Be,K as Xe,M as $e,O as Ke,P as Ze,Q as et,R as j,S as q,T as G,U as Y,V as Q,W as X,l as Fe,o as Le,p as Re,r as Ie,s as F,t as ke,u as Oe,w as Ue,x as Ae}from"./chunk-PWGDKQNX.js";import{Cb as N,E as ve,Eb as D,Ib as L,Jb as R,Kb as I,Lb as je,Mb as qe,Ob as Ge,Rb as k,Sb as O,Tb as U,Ub as He,Vb as A,Wb as Je,Xb as Ye,Yb as W,ac as H,bc as J,p as Pe,r as pe,s as ce}from"./chunk-O32X4I2H.js";import{Db as te,Ec as ie,Fc as we,Ga as _,Gc as w,Ha as g,Hc as s,Ib as b,Ic as M,Ja as ze,Jc as P,La as Ce,Ma as he,Mc as oe,Nc as re,Ob as c,Oc as ae,Sc as xe,Tc as le,Wa as y,Xb as p,Zc as se,ad as me,bd as x,cc as C,ea as _e,gd as Te,hc as r,hd as Ee,ic as i,jc as u,kc as d,lc as f,na as ge,nc as T,od as Se,sc as h,ta as z,uc as m,vb as l,yc as ne}from"./chunk-MQ3FWWKD.js";var de=(()=>{class e extends mt{#t=z(Z);#e=z(Ve);#n=z(Pe);ngrxOnStoreInit(){this.setState({profile:null})}getProfile=this.effect(_e(t=>(t.loading.set(!0),this.#e.getProfile(t.username).pipe(be({next:n=>{this.#n.setTitle(`${n.profile.username} - Profile`),this.patchState({profile:n.profile})},error:n=>{this.patchState({profile:null}),Te()?console.error(`Get Profile2 with: ${t.username}`,n.error??n.message):console.warn(`Get Profile2 with: ${t.username}`,n.message),V.isTestMode||this.#t.logout(n)},finalize:()=>{t.loading.set(!1)}})))));static \u0275fac=(()=>{let t;return function(a){return(t||(t=ze(e)))(a||e)}})();static \u0275prov=ge({token:e,factory:e.\u0275fac})}return e})();var wt=()=>({standalone:!0});function Lt(e,o){if(e&1){let t=T();d(0),r(1,"button",29),h("nzOnConfirm",function(){_(t);let a=m();return g(a.confirmApply())}),u(2,"nz-icon",30),s(3," Undo "),i(),f()}if(e&2){let t=m(),n=w(9);l(),p("nzIcon",n)("disabled",t.isLoading())}}function Rt(e,o){if(e&1){let t=T();d(0),r(1,"button",31),h("nzOnConfirm",function(){_(t);let a=m();return g(a.confirmClose())}),u(2,"nz-icon",32),s(3," Close "),i(),f()}if(e&2){let t=m(),n=w(7);l(),p("nzIcon",n)("nzOkDanger",!0)("disabled",t.isLoading()||t.passwordDeleted)}}function It(e,o){e&1&&(d(0),r(1,"h5",33),u(2,"nz-icon",34),i(),f())}function kt(e,o){e&1&&c(0,It,3,0,"ng-container",11)}function Ot(e,o){e&1&&(d(0),r(1,"h4",33),u(2,"nz-icon",35),i(),f())}function Ut(e,o){e&1&&(d(0),r(1,"h5",36),s(2,"Do you want to close without changes?"),i(),f())}function At(e,o){e&1&&(r(0,"nz-space",10),c(1,Ot,3,0,"ng-container",11)(2,Ut,3,0,"ng-container",11),i())}function Wt(e,o){e&1&&(d(0),r(1,"h4",37),u(2,"nz-icon",35),i(),f())}function Bt(e,o){e&1&&(d(0),r(1,"h5",36),s(2,"Do you want to undo all changes?"),i(),f())}function jt(e,o){e&1&&(r(0,"nz-space",10),c(1,Wt,3,0,"ng-container",11)(2,Bt,3,0,"ng-container",11),i())}function qt(e,o){e&1&&s(0," Please input your username. ")}function Gt(e,o){if(e&1&&s(0),e&2){let t=m(2);P(" The username must be at least ",t.MinUserNameLength," characters long. ")}}function Ht(e,o){if(e&1&&s(0),e&2){let t=m(2);P(" The username must be at most ",t.MaxUserNameLength," characters long. ")}}function Jt(e,o){if(e&1&&c(0,qt,1,0)(1,Gt,1,1)(2,Ht,1,1),e&2){let t=o.$implicit;C(t.hasError("required")?0:-1),l(),C(t.hasError("min")?1:-1),l(),C(t.hasError("max")?2:-1)}}function Yt(e,o){if(e&1){let t=T();r(0,"nz-icon",38),h("click",function(){_(t);let a=m();return g(a.passwordVisible=!a.passwordVisible)}),i()}if(e&2){let t=m();p("nzType",t.passwordVisible?"eye":"eye-invisible")}}function Qt(e,o){e&1&&s(0," Please enter your password. ")}function Xt(e,o){if(e&1&&s(0),e&2){let t=m(2);P(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function $t(e,o){if(e&1&&s(0),e&2){let t=m(2);P(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Kt(e,o){if(e&1&&c(0,Qt,1,0)(1,Xt,1,1)(2,$t,1,1),e&2){let t=o.$implicit;C(t.hasError("required")?0:-1),l(),C(t.hasError("min")?1:-1),l(),C(t.hasError("max")?2:-1)}}function Zt(e,o){e&1&&s(0," Please confirm your password. ")}function en(e,o){e&1&&s(0," The confirm password is inconsistent with password. ")}function tn(e,o){if(e&1&&s(0),e&2){let t=m(2);P(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function nn(e,o){if(e&1&&s(0),e&2){let t=m(2);P(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function on(e,o){if(e&1&&c(0,Zt,1,0)(1,en,1,0)(2,tn,1,1)(3,nn,1,1),e&2){let t=o.$implicit;C(t.hasError("required")?0:-1),l(),C(t.hasError("confirm")?1:-1),l(),C(t.hasError("min")?2:-1),l(),C(t.hasError("max")?3:-1)}}function rn(e,o){if(e&1){let t=T();d(0),r(1,"button",39),h("nzOnConfirm",function(){_(t);let a=m();return g(a.submitForm())}),s(2," Submit "),i(),f()}if(e&2){let t=m(),n=w(51);l(),p("nzLoading",t.isLoading())("nzIcon",n)("disabled",!t.userForm.valid)}}function an(e,o){if(e&1){let t=T();d(0),r(1,"button",31),h("nzOnConfirm",function(){_(t);let a=m();return g(a.resetForm())}),s(2," Reset "),i(),f()}if(e&2){let t=m(),n=w(53);l(),p("nzIcon",n)("nzOkDanger",!0)("disabled",t.isLoading())}}function ln(e,o){e&1&&(d(0),r(1,"h4",37),u(2,"nz-icon",35),i(),f())}function sn(e,o){e&1&&(d(0),r(1,"h5",36),s(2,"Do you what to submit form?"),i(),f())}function mn(e,o){e&1&&(r(0,"nz-space",10),c(1,ln,3,0,"ng-container",11)(2,sn,3,0,"ng-container",11),i())}function pn(e,o){e&1&&(d(0),r(1,"h4",33),u(2,"nz-icon",35),i(),f())}function cn(e,o){e&1&&(d(0),r(1,"h5",36),s(2,"Do you want to reset form?"),i(),f())}function dn(e,o){e&1&&(r(0,"nz-space",10),c(1,pn,3,0,"ng-container",11)(2,cn,3,0,"ng-container",11),i())}var xt=(()=>{class e{user;errorResponse;enablePassword=!1;enableUsername=!1;nzMessageService=z(lt);drawerRef=z(Me);atLeastOneTry=!1;isSubmited=!1;changeDetectorRef=z(Ee);messageId=null;isLoading=y(!0);injector=z(Ce);MinUserNameLength=2;MaxUserNameLength=100;MinPasswordLength=16;MaxPasswordLength=32;passwordVisible=!1;passwordDeleted=!1;confirmValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0};if(t.value!==this.userForm.controls.password.value)return{error:!0,confirm:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};nameValidator=t=>{if(t.value){if(t.value.length<2)return{error:!0,min:!0};if(t.value.length>100)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};userForm=new Ie({password:new F("",{nonNullable:!0,validators:[this.passwordValidator]}),confirm:new F("",{nonNullable:!0,validators:[this.confirmValidator]}),username:new F("",{nonNullable:!0,validators:[this.nameValidator]})});get newPassword(){return this.userForm.controls.password.value}removeMessageService(){this.messageId&&(this.nzMessageService.remove(this.messageId),this.messageId=null)}setMessageService(){this.isLoading.set(!0),this.messageId=this.nzMessageService.loading("Action in progress...",{nzDuration:0}).messageId}ngOnDestroy(){this.removeMessageService()}ngOnInit(){this.userForm.patchValue({username:this.user()?.username}),this.disableEnable(),ce(this.errorResponse,{injector:this.injector}).subscribe(t=>{t&&(this.removeMessageService(),this.isSubmited=!1,this.disableEnable(),t.errors&&t.errors.passwordDeleted&&(this.passwordDeleted=!0),t.errors&&t.errors.securityTokenRefreshRate&&this.drawerRef.execute(null))}),ce(this.user,{injector:this.injector}).subscribe(t=>{t&&this.isSubmited&&(this.removeMessageService(),this.drawerRef.close(!0))}),this.isLoading.set(!1)}submitForm(){this.isLoading()||(this.setMessageService(),this.atLeastOneTry=!0,this.isSubmited=!0,this.drawerRef.execute({loading:this.isLoading,form:this.userForm}))}resetForm(){this.userForm.reset(),this.userForm.controls.username.markAsPristine(),this.userForm.controls.username.updateValueAndValidity(),this.userForm.controls.password.markAsPristine(),this.userForm.controls.password.updateValueAndValidity(),this.userForm.controls.confirm.markAsPristine(),this.userForm.controls.confirm.updateValueAndValidity(),this.changeDetectorRef.markForCheck()}confirmClose(){this.atLeastOneTry&&this.nzMessageService.warning("Changes were not saved!"),this.drawerRef.close(!1)}confirmApply(){this.resetForm(),this.userForm.patchValue({username:this.user()?.username})}validateConfirmPassword(){Promise.resolve().then(()=>this.userForm.controls.confirm.updateValueAndValidity())}disableEnable(){this.disableEnableUsername(!0),this.disableEnablePassword(!0)}disableEnableUsername(t){for(let n in this.userForm.controls)n==="username"&&(!this.enableUsername&&!t||this.enableUsername&&t?this.userForm.controls[n].enable():(this.userForm.controls[n].markAsPristine(),this.userForm.controls[n].updateValueAndValidity(),this.userForm.controls[n].disable()))}disableEnablePassword(t){for(let n in this.userForm.controls)(n==="password"||n==="confirm")&&(!this.enablePassword&&!t||this.enablePassword&&t?this.userForm.controls[n].enable():(this.userForm.controls[n].markAsPristine(),this.userForm.controls[n].updateValueAndValidity(),this.userForm.controls[n].disable()))}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=b({type:e,selectors:[["app-article-listing-tags-edit"]],inputs:{user:"user",errorResponse:"errorResponse",enablePassword:"enablePassword",enableUsername:"enableUsername"},decls:55,vars:23,consts:[["closeTpl",""],["undoTpl",""],["userErrorTpl",""],["suffixTemplate",""],["passwordErrorTpl",""],["confirmErrorTpl",""],["submitTpl",""],["resetTpl",""],["nz-row","","nzJustify","end"],["nz-col",""],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-row","","nzJustify","center"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24","nzXl","24","nzXXl","24"],["nz-form","",3,"formGroup"],["nz-row","","nzJustify","start"],["nzCheckedChildren","Change Username","nzUnCheckedChildren","Don't Change Username",3,"ngModelChange","click","ngModel","ngModelOptions"],["nzFor","username","nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","username","id","username","autocomplete","off","placeholder","Enter your username"],["nzCheckedChildren","Change Password","nzUnCheckedChildren","Don't Change Password",3,"ngModelChange","click","ngModel","ngModelOptions"],["nzFor","password","nzRequired","",3,"nzSpan"],[3,"nzSuffix"],["nz-input","","formControlName","password","id","password","autocomplete","off","placeholder","Enter your password",3,"ngModelChange","type"],[3,"password"],["nzFor","confirm","nzRequired","",3,"nzSpan"],["nz-input","","type","password","formControlName","confirm","id","confirm","placeholder","Confirm your password"],[3,"nzOffset","nzSpan"],[3,"errorResponse"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","disabled"],["nzType","undo"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger","disabled"],["nzType","close"],["nz-typography","","nzType","danger"],["nzType","info-circle","nz-tooltip","","nzTooltipTitle","The old password was deleted. You must provide a new password."],["nzType","question-circle-o"],["nz-typography",""],["nz-typography","","nzType","success"],[3,"click","nzType"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzLoading","nzIcon","disabled"]],template:function(n,a){if(n&1){let S=T();r(0,"div",8)(1,"div",9)(2,"nz-space",10),c(3,Lt,4,2,"ng-container",11)(4,Rt,4,3,"ng-container",11)(5,kt,1,0,"ng-container"),i()(),c(6,At,3,0,"ng-template",null,0,x)(8,jt,3,0,"ng-template",null,1,x),i(),r(10,"nz-card")(11,"div",12)(12,"div",13)(13,"form",14)(14,"div",15)(15,"div",9)(16,"nz-switch",16),ae("ngModelChange",function(E){return _(S),re(a.enableUsername,E)||(a.enableUsername=E),g(E)}),h("click",function(){return _(S),g(a.disableEnableUsername(!1))}),i()()(),r(17,"nz-form-item")(18,"nz-form-label",17),s(19,"Username"),i(),r(20,"nz-form-control",18),u(21,"input",19),c(22,Jt,3,3,"ng-template",null,2,x),i()(),r(24,"div",15)(25,"div",9)(26,"nz-switch",20),ae("ngModelChange",function(E){return _(S),re(a.enablePassword,E)||(a.enablePassword=E),g(E)}),h("click",function(){return _(S),g(a.disableEnablePassword(!1))}),i()()(),r(27,"nz-form-item")(28,"nz-form-label",21),s(29,"Password"),i(),r(30,"nz-form-control",18)(31,"nz-input-group",22)(32,"input",23),h("ngModelChange",function(){return _(S),g(a.validateConfirmPassword())}),i()(),u(33,"password-strength-meter",24),c(34,Yt,1,1,"ng-template",null,3,x),i(),c(36,Kt,3,3,"ng-template",null,4,x),i(),r(38,"nz-form-item")(39,"nz-form-label",25),s(40,"Confirm Password"),i(),r(41,"nz-form-control",18),u(42,"input",26),c(43,on,4,4,"ng-template",null,5,x),i()(),r(45,"nz-form-item")(46,"nz-form-control",27)(47,"nz-space",10),c(48,rn,3,3,"ng-container",11)(49,an,3,3,"ng-container",11),i()(),c(50,mn,3,0,"ng-template",null,6,x)(52,dn,3,0,"ng-template",null,7,x),i()(),u(54,"app-form-errors",28),i()()()}if(n&2){let S=w(23),v=w(35),E=w(37),Tt=w(44);l(5),C(a.passwordDeleted?5:-1),l(8),p("formGroup",a.userForm),l(3),oe("ngModel",a.enableUsername),p("ngModelOptions",le(21,wt)),l(2),p("nzSpan",24),l(2),p("nzSpan",24)("nzErrorTip",S),l(6),oe("ngModel",a.enablePassword),p("ngModelOptions",le(22,wt)),l(2),p("nzSpan",24),l(2),p("nzSpan",24)("nzErrorTip",E),l(),p("nzSuffix",v),l(),p("type",a.passwordVisible?"text":"password"),l(),p("password",a.newPassword),l(6),p("nzSpan",24),l(2),p("nzSpan",24)("nzErrorTip",Tt),l(5),p("nzOffset",12)("nzSpan",24),l(8),p("errorResponse",a.errorResponse)}},dependencies:[Be,Oe,Fe,Le,Re,Ue,Ae,tt,We,ke,A,k,O,U,J,H,at,Q,Y,it,nt,rt,ot,De,W,X,D,N,j,Ke,et,Ze,K,$,I,R,L,B,ut,ft,G,q,$e,Xe,gt],encapsulation:2,changeDetection:0})}return e})();var fn=["drawerTitleTemplate"],un=["loginPasswordTitleTemplate"];function _n(e,o){e&1&&(r(0,"div",8),u(1,"nz-spin",9),i())}function gn(e,o){if(e&1&&(d(0),u(1,"nz-avatar",14),f()),e&2){let t=m(3);l(),ne("nzSrc","https://picsum.photos/id/",t.profile().image.length,"/300/200.jpg")}}function zn(e,o){if(e&1&&(d(0),r(1,"h5",15),s(2),se(3,"nzEllipsis"),i(),f()),e&2){let t=m(3);l(2),M(me(3,1,t.profile().username,15,"..."))}}function Cn(e,o){if(e&1){let t=T();d(0),r(1,"button",16),u(2,"nz-icon",17),s(3," Blog Data "),u(4,"nz-icon",18),i(),r(5,"nz-dropdown-menu",null,3)(7,"ul",19)(8,"li",20)(9,"a",21),h("click",function(){_(t);let a=m(3);return g(a.clickLink("articles"))}),s(10,"Articles"),i()()()(),f()}if(e&2){let t=w(6);l(),p("nzDropdownMenu",t)}}function hn(e,o){if(e&1){let t=T();d(0),r(1,"button",22),u(2,"nz-icon",17),s(3," Edit Profile "),u(4,"nz-icon",18),i(),r(5,"nz-dropdown-menu",null,4)(7,"ul",19)(8,"li",20)(9,"a",21),h("click",function(){_(t);let a=m(3);return g(a.createComponentModal("username"))}),s(10,"Change Username"),i()(),r(11,"li",20)(12,"a",21),h("click",function(){_(t);let a=m(3);return g(a.createComponentModal("password"))}),s(13,"Change Password"),i()()()(),f()}if(e&2){let t=w(6),n=m(3);l(),p("nzLoading",n.isUpdateLoading())("nzDropdownMenu",t)}}function wn(e,o){if(e&1){let t=T();d(0),r(1,"button",23),h("nzOnConfirm",function(){_(t);let a=m(3);return g(a.logOut())}),u(2,"nz-icon",24),s(3," Sign out "),i(),f()}if(e&2){m();let t=w(13);l(),p("nzIcon",t)("nzOkDanger",!0)}}function xn(e,o){e&1&&(d(0),r(1,"h4",25),u(2,"nz-icon",26),i(),f())}function Tn(e,o){e&1&&(d(0),r(1,"h5",27),s(2,"Do you want to sign out?"),i(),f())}function En(e,o){e&1&&(r(0,"nz-space",12),c(1,xn,3,0,"ng-container",13)(2,Tn,3,0,"ng-container",13),i())}function Sn(e,o){e&1&&(r(0,"nz-card")(1,"div",10)(2,"div",11)(3,"nz-space",12),c(4,gn,2,2,"ng-container",13)(5,zn,4,5,"ng-container",13),i()()(),r(6,"div",10)(7,"div",11)(8,"nz-space",12),c(9,Cn,11,1,"ng-container",13)(10,hn,14,2,"ng-container",13)(11,wn,4,2,"ng-container",13),i()()(),c(12,En,3,0,"ng-template",null,2,x),i())}function Pn(e,o){if(e&1&&c(0,Sn,14,0,"nz-card"),e&2){let t=m();C(t.isCurrentUser()?0:-1)}}function vn(e,o){if(e&1&&(r(0,"div",28)(1,"div",11)(2,"h3",15),s(3),i()()()),e&2){let t=m();l(3),M(t.drawerTitle)}}function yn(e,o){if(e&1&&(d(0),u(1,"nz-avatar",14),f()),e&2){let t=m(2);l(),ne("nzSrc","https://picsum.photos/id/",t.profile().username.length,"/300/200.jpg")}}function bn(e,o){if(e&1&&(d(0),r(1,"h5",15),s(2),se(3,"nzEllipsis"),i(),f()),e&2){let t=m(2);l(2),M(me(3,1,t.profile().username,12,"..."))}}function Mn(e,o){e&1&&(r(0,"div",28)(1,"div",11)(2,"h3",29),s(3,"Confirm Password"),i()()(),r(4,"div",10)(5,"div",11)(6,"nz-space",12),c(7,yn,2,2,"ng-container",13)(8,bn,4,5,"ng-container",13),i()()())}var eo=(()=>{class e{drawerTitleTemplate=te("drawerTitleTemplate");loginPasswordTitleTemplate=te("loginPasswordTitleTemplate");#t=z(de);#e=z(Z);router=z(ve);destroyRef=z(he);drawerService=z(Ne);profile=this.#t.selectors.profile;windowWidth=this.#e.selectors.width;isCurrentUser=Se(()=>!!this.profile());isLoading=y(!0);isUpdateLoading=y(!1);user=this.#e.selectors.user;isLoginPasswordLoading=y(!1);drawerTitle="";noCancel(){return new Promise(n=>{try{n(!1)}finally{}})}ngOnInit(){this.#e.selectors.isAuthenticated()?this.#t.getProfile({loading:this.isLoading,username:this.user().username}):this.logOut()}logOut(){this.#e.logout(null)}clickLink(t){this.router.navigate(["admin",t])}createComponentModal(t){if(this.isUpdateLoading())return;this.isUpdateLoading.set(!0),this.drawerTitle="Update Account",this.#e.resetErrorResponse();let n=this.drawerService.create({nzTitle:this.drawerTitleTemplate(),nzContent:xt,nzWidth:this.windowWidth()>600?600:this.windowWidth(),nzClosable:!1,nzOnCancel:this.noCancel,nzContentParams:{user:this.#e.selectors.user,errorResponse:this.#e.selectors.errorResponse,enableUsername:t==="username",enablePassword:t==="password"}});n.afterExecute.pipe(pe(this.destroyRef)).subscribe(a=>{a?this.#e.updateUser({loading:a.loading,form:a.form}):this.confirmPassword()}),n.afterClose.subscribe(a=>{a&&(V.isTestMode||this.router.navigate(["/"])),this.isUpdateLoading.set(!1)})}confirmPassword(){if(this.isLoginPasswordLoading())return;this.isLoginPasswordLoading.set(!0),this.#e.resetErrorResponse();let t=this.drawerService.create({nzTitle:this.loginPasswordTitleTemplate(),nzContent:st,nzWidth:this.windowWidth()>600?600:this.windowWidth(),nzClosable:!1,nzOnCancel:this.noCancel,nzContentParams:{user:this.#e.selectors.user,errorResponse:this.#e.selectors.errorResponse,messages:{cancelButton:"Close",cancelButtonMessage:"Do you want to close without confirming the password?"}}});t.afterExecute.pipe(pe(this.destroyRef)).subscribe(n=>{n&&this.#e.loginPassword({loading:n.loading,form:n.form})}),t.afterClose.subscribe(n=>{n&&this.#e.resetErrorResponse(),this.isLoginPasswordLoading.set(!1)})}pageHeaderInfo={title:"Account Profile",breadcrumb:["Admin","Profile"],desc:`
    This is an example of using  a profile.
    `};static \u0275fac=function(n){return new(n||e)};static \u0275cmp=b({type:e,selectors:[["app-profile"]],viewQuery:function(n,a){n&1&&(ie(a.drawerTitleTemplate,fn,5),ie(a.loginPasswordTitleTemplate,un,5)),n&2&&we(2)},features:[xe([ye(de)])],decls:9,vars:3,consts:[["drawerTitleTemplate",""],["loginPasswordTitleTemplate",""],["closeTpl",""],["menu1","nzDropdownMenu"],["menu","nzDropdownMenu"],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[1,"m-b-20",3,"nzBordered"],[1,"app-article-preview"],["nzTip","Loading profile..."],["nz-row","","nzJustify","end"],["nz-col",""],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nzIcon","user",3,"nzSrc"],["nz-typography","","nzType","success"],["nz-button","","nzType","primary","nzShape","round","nz-dropdown","",3,"nzDropdownMenu"],["nzType","audit"],["nzType","down"],["nz-menu",""],["nz-menu-item",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzType","primary","nzShape","round","nz-dropdown","",3,"nzLoading","nzDropdownMenu"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzType","export"],["nz-typography","","nzType","danger"],["nzType","question-circle-o"],["nz-typography",""],["nz-row","","nzJustify","center"],["nz-typography","","nzType","warning"]],template:function(n,a){n&1&&(u(0,"app-page-header",5),r(1,"div",6)(2,"nz-card",7),c(3,_n,2,0,"div",8)(4,Pn,1,1)(5,vn,4,1,"ng-template",null,0,x)(7,Mn,9,0,"ng-template",null,1,x),i()()),n&2&&(p("pageHeaderInfo",a.pageHeaderInfo),l(2),p("nzBordered",!0),l(),C(a.isLoading()?3:4))},dependencies:[_t,dt,ct,A,k,O,U,J,H,W,Ge,qe,je,Ye,Je,D,N,K,$,pt,I,R,L,B,Qe,G,q,X,Q,Y,He,j],encapsulation:2,changeDetection:0})}return e})();export{eo as default};
