import{a as he}from"./chunk-4IAE5D4I.js";import{a as xe}from"./chunk-AGQY7SW5.js";import{A as le,F as me,J as ze}from"./chunk-D3YOOZ65.js";import"./chunk-IAJBDWOT.js";import{h as ce,i as de,j as _e,k as ue,l as fe,m as ge,n as Ce}from"./chunk-PWBFDFV6.js";import{a as H,b as G,i as B,k as X,l as oe,m as ae}from"./chunk-QWAMMNSN.js";import{a as k,b as O,c as q,e as U}from"./chunk-7ZP5E5Q4.js";import"./chunk-GW63DI2J.js";import{ga as se,ha as pe,l as F}from"./chunk-FBFM442M.js";import"./chunk-TFT36LRQ.js";import"./chunk-DOM7534T.js";import{A as Y,B as j,D as K,E as y,G as Q,I as Z,J as ee,N as te,O as ne,R as ie,S as re,d as I,e as D,f as A,i as $,x as J,y as W}from"./chunk-SYGSFLWD.js";import{xa as L,za as P}from"./chunk-LYUHKZY5.js";import"./chunk-YTP2CYRS.js";import"./chunk-HIFH5C55.js";import{Ab as M,Cc as z,Gb as _,Ha as b,Hc as a,Jc as C,Vc as V,Wb as s,Yb as p,bc as l,cc as o,dc as i,dd as x,ec as u,ic as f,jc as g,lc as E,nb as r,pa as S,qc as T,sc as m,ya as v,za as w}from"./chunk-LLZZ4NMO.js";import"./chunk-3XFQOAE3.js";var Se=()=>({overflow:"auto",display:"block",width:"100%"});function Re(e,n){e&1&&(o(0,"div",9)(1,"div",10)(2,"h3",11),a(3,"Already Authenticated"),i()()())}function Ne(e,n){e&1&&(f(0),o(1,"h3",29),a(2,"Register an account"),i(),g())}function be(e,n){e&1&&(f(0),o(1,"h5",30),u(2,"nz-icon",31),i(),g())}function Me(e,n){e&1&&(f(0),o(1,"h5",30),a(2,"Already have an account?"),i(),g())}function Ve(e,n){if(e&1){let t=E();f(0),o(1,"a",32),T("click",function(){v(t);let c=m(2);return w(c.clickLink())}),a(2,"Sign In"),u(3,"span",33),i(),g()}}function Fe(e,n){e&1&&a(0," Please input your username. ")}function Le(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The username must be at least ",t.MinUserNameLength," characters long. ")}}function Pe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The username must be at most ",t.MaxUserNameLength," characters long. ")}}function Ie(e,n){if(e&1&&(s(0,Fe,1,0),s(1,Le,1,1),s(2,Pe,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function De(e,n){e&1&&a(0," The input is not a valid email. ")}function Ae(e,n){e&1&&a(0," Please input your email. ")}function ke(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The email must be at least ",t.MinEmailLength," characters long. ")}}function Oe(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The email must be at most ",t.MaxEmailLength," characters long. ")}}function qe(e,n){if(e&1&&(s(0,De,1,0),s(1,Ae,1,0),s(2,ke,1,1),s(3,Oe,1,1)),e&2){let t=n.$implicit;p(t.hasError("email")?0:-1),r(),p(t.hasError("required")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function Ue(e,n){e&1&&a(0," Please enter your password. ")}function He(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function Ge(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Be(e,n){if(e&1&&(s(0,Ue,1,0),s(1,He,1,1),s(2,Ge,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("min")?1:-1),r(),p(t.hasError("max")?2:-1)}}function Xe(e,n){e&1&&a(0," Please confirm your password. ")}function $e(e,n){e&1&&a(0," The confirm password is inconsistent with password. ")}function Je(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at least ",t.MinPasswordLength," characters long. ")}}function We(e,n){if(e&1&&a(0),e&2){let t=m(3);C(" The password must be at most ",t.MaxPasswordLength," characters long. ")}}function Ye(e,n){if(e&1&&(s(0,Xe,1,0),s(1,$e,1,0),s(2,Je,1,1),s(3,We,1,1)),e&2){let t=n.$implicit;p(t.hasError("required")?0:-1),r(),p(t.hasError("confirm")?1:-1),r(),p(t.hasError("min")?2:-1),r(),p(t.hasError("max")?3:-1)}}function je(e,n){if(e&1){let t=E();f(0),o(1,"button",34),T("nzOnConfirm",function(){v(t);let c=m(2);return w(c.register())}),a(2," Submit "),i(),g()}if(e&2){m();let t=z(50),d=m();r(),l("nzLoading",d.isLoading())("nzIcon",t)("disabled",!d.registerForm.valid)}}function Ke(e,n){if(e&1){let t=E();f(0),o(1,"button",35),T("nzOnConfirm",function(){v(t);let c=m(2);return w(c.resetForm())}),a(2," Reset "),i(),g()}if(e&2){m();let t=z(52);r(),l("nzIcon",t)("nzOkDanger",!0)}}function Qe(e,n){e&1&&(f(0),o(1,"h4",29),u(2,"nz-icon",36),i(),g())}function Ze(e,n){e&1&&(f(0),o(1,"h5",37),a(2,"Do you want to submit form?"),i(),g())}function et(e,n){e&1&&(o(0,"nz-space",12),_(1,Qe,3,0,"ng-container",13)(2,Ze,3,0,"ng-container",13),i())}function tt(e,n){e&1&&(f(0),o(1,"h4",11),u(2,"nz-icon",36),i(),g())}function nt(e,n){e&1&&(f(0),o(1,"h5",37),a(2,"Do you want to reset form?"),i(),g())}function it(e,n){e&1&&(o(0,"nz-space",12),_(1,tt,3,0,"ng-container",13)(2,nt,3,0,"ng-container",13),i())}function rt(e,n){if(e&1){let t=E();o(0,"div",9)(1,"div",10)(2,"nz-space",12),_(3,Ne,3,0,"ng-container",13)(4,be,3,0,"ng-container",13),i()()(),o(5,"div",9)(6,"div",10)(7,"nz-space",12),_(8,Me,3,0,"ng-container",13)(9,Ve,4,0,"ng-container",13),i()()(),o(10,"div",9)(11,"div",14)(12,"form",15)(13,"nz-form-item")(14,"nz-form-label",16),a(15,"Username"),i(),o(16,"nz-form-control",17),u(17,"input",18),_(18,Ie,3,3,"ng-template",null,0,x),i()(),o(20,"nz-form-item")(21,"nz-form-label",19),a(22,"Email"),i(),o(23,"nz-form-control",17),u(24,"input",20),_(25,qe,4,4,"ng-template",null,1,x),i()(),o(27,"nz-form-item")(28,"nz-form-label",21),a(29,"Password"),i(),o(30,"nz-form-control",17)(31,"nz-input-wrapper")(32,"input",22),T("ngModelChange",function(){v(t);let c=m();return w(c.validateConfirmPassword())}),i(),o(33,"nz-icon",23),T("click",function(){v(t);let c=m();return w(c.passwordVisible=!c.passwordVisible)}),i()(),u(34,"password-strength-meter",24),i(),_(35,Be,3,3,"ng-template",null,2,x),i(),o(37,"nz-form-item")(38,"nz-form-label",25),a(39,"Confirm Password"),i(),o(40,"nz-form-control",17),u(41,"input",26),_(42,Ye,4,4,"ng-template",null,3,x),i()(),o(44,"nz-form-item")(45,"nz-form-control",27)(46,"nz-space",12),_(47,je,3,3,"ng-container",13)(48,Ke,3,2,"ng-container",13),i()(),_(49,et,3,0,"ng-template",null,4,x)(51,it,3,0,"ng-template",null,5,x),i()(),u(53,"app-form-errors",28),i()()}if(e&2){let t=z(19),d=z(26),c=z(36),ye=z(43),h=m();r(12),l("formGroup",h.registerForm),r(2),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",t),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",d),r(5),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",c),r(2),l("type",h.passwordVisible?"text":"password"),r(),l("nzType",h.passwordVisible?"eye":"eye-invisible"),r(),l("password",h.newPassword),r(4),l("nzSpan",12),r(2),l("nzSpan",18)("nzErrorTip",ye),r(5),l("nzOffset",h.isOverMode()?0:12),r(8),l("errorResponse",h.errorResponse)}}var $t=(()=>{class e{router=S(F);#e=S(ze);errorResponse=this.#e.selectors.errorResponse;isAuthenticated=this.#e.selectors.isAuthenticated;isOverMode=this.#e.selectors.isOverMode;isLoading=b(!1);passwordVisible=!1;MinUserNameLength=2;MaxUserNameLength=100;MinEmailLength=3;MaxEmailLength=50;MinPasswordLength=16;MaxPasswordLength=32;pageHeaderInfo={title:"Registration Form Example",breadcrumb:["Examples","Registration"],desc:`
      This is an example of using form controls. It shows interactions with the server app written in .NET Core 9.
      The server data is in JSON format and served dynamically via API controllers.
      In the web browser, there is an Angular 19 app which intercepts and shows the data.
      In addition, it shows rate limiting implementation using AspNetCoreRateLimit.
      `};confirmValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0};if(t.value!==this.registerForm.controls.password.value)return{error:!0,confirm:!0}}else return{error:!0,required:!0};return{}};passwordValidator=t=>{if(t.value){if(t.value.length<16)return{error:!0,min:!0};if(t.value.length>32)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};nameValidator=t=>{if(t.value){if(t.value.length<2)return{error:!0,min:!0};if(t.value.length>100)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};emailValidator=t=>{if(t.value){if(t.value.length<3)return{error:!0,min:!0};if(t.value.length>50)return{error:!0,max:!0}}else return{error:!0,required:!0};return{}};registerForm=new K({email:new y("",{nonNullable:!0,validators:[W.email,this.emailValidator]}),password:new y("",{nonNullable:!0,validators:[this.passwordValidator]}),confirm:new y("",{nonNullable:!0,validators:[this.confirmValidator]}),username:new y("",{nonNullable:!0,validators:[this.nameValidator]})});get newPassword(){return this.registerForm.controls.password.value}register(){this.isLoading()||(this.isLoading.set(!0),this.#e.register({loading:this.isLoading,form:this.registerForm}))}resetForm(){this.registerForm.reset(),this.registerForm.controls.email.markAsPristine(),this.registerForm.controls.email.updateValueAndValidity(),this.registerForm.controls.username.markAsPristine(),this.registerForm.controls.username.updateValueAndValidity(),this.registerForm.controls.password.markAsPristine(),this.registerForm.controls.password.updateValueAndValidity(),this.registerForm.controls.confirm.markAsPristine(),this.registerForm.controls.confirm.updateValueAndValidity()}clickLink(){this.router.navigate(["home","sign-in"])}validateConfirmPassword(){Promise.resolve().then(()=>this.registerForm.controls.confirm.updateValueAndValidity())}ngOnDestroy(){this.#e.resetErrorResponse()}static \u0275fac=function(d){return new(d||e)};static \u0275cmp=M({type:e,selectors:[["app-register"]],decls:5,vars:4,consts:[["userErrorTpl",""],["emailErrorTpl",""],["passwordErrorTpl",""],["confirmErrorTpl",""],["applyTpl",""],["closeTpl",""],[3,"pageHeaderInfo"],[1,"normal-table-wrap"],[3,"nzBodyStyle"],["nz-row","","nzJustify","center"],["nz-col",""],["nz-typography","","nzType","danger"],["nzSize","small","nzAlign","baseline"],[4,"nzSpaceItem"],["nz-col","","nzXs","24","nzSm","24","nzMd","18","nzLg","18","nzXl","18","nzXXl","12"],["nz-form","",3,"formGroup"],["nzFor","username","nzRequired","",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","formControlName","username","id","username","autocomplete","off","placeholder","Enter your username"],["nzFor","email","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","email","id","email","autocomplete","off","placeholder","Enter your email","type","email"],["nzFor","password","nzRequired","",3,"nzSpan"],["nz-input","","formControlName","password","id","password","autocomplete","off","placeholder","Enter your password",3,"ngModelChange","type"],["nzInputSuffix","",3,"click","nzType"],[3,"password"],["nzFor","confirm","nzRequired","",3,"nzSpan"],["nz-input","","type","password","formControlName","confirm","id","confirm","placeholder","Confirm your password"],[3,"nzOffset"],[3,"errorResponse"],["nz-typography","","nzType","success"],["nz-typography","","nzType","warning"],["nzType","info-circle","nz-tooltip","","nzTooltipTitle","This feature is not implemented yet."],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","arrow-right"],["nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzLoading","nzIcon","disabled"],["nz-button","","nzDanger","true","nzShape","round","nz-popconfirm","","nzPopconfirmTitle"," ","nzPopconfirmShowArrow","false","nzOkText","Yes","nzCancelText","No",3,"nzOnConfirm","nzIcon","nzOkDanger"],["nzType","question-circle-o"],["nz-typography",""]],template:function(d,c){d&1&&(u(0,"app-page-header",6),o(1,"div",7)(2,"nz-card",8),s(3,Re,4,0,"div",9)(4,rt,54,18),i()()),d&2&&(l("pageHeaderInfo",c.pageHeaderInfo),r(2),l("nzBodyStyle",V(3,Se)),r(),p(c.isAuthenticated()?3:4))},dependencies:[xe,te,Q,J,Y,j,Z,ee,me,A,D,I,P,L,fe,G,H,de,ce,ue,_e,le,re,ne,ie,$,pe,se,U,k,O,q,Ce,ge,ae,oe,X,B,he],encapsulation:2,changeDetection:0})}return e})();export{$t as default};
